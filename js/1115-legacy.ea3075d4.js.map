{"version":3,"file":"js/1115-legacy.ea3075d4.js","mappings":"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","sources":["webpack://vue_start_1/./src/views/Ban/BanTblSub.vue?53a8","webpack://vue_start_1/src/views/Ban/BanTblSub.vue","webpack://vue_start_1/./src/views/Ban/BanTblSub.vue?9e40","webpack://vue_start_1/./src/views/Ban/BanTblSub.vue?017f","webpack://vue_start_1/./node_modules/core-js/internals/regexp-flags.js","webpack://vue_start_1/./node_modules/core-js/internals/regexp-get-flags.js","webpack://vue_start_1/./node_modules/core-js/modules/es.array.map.js","webpack://vue_start_1/./node_modules/core-js/modules/es.array.splice.js","webpack://vue_start_1/./node_modules/core-js/modules/es.object.keys.js","webpack://vue_start_1/./node_modules/core-js/modules/es.regexp.to-string.js","webpack://vue_start_1/./src/views/Ban/BanTblSub.vue","webpack://vue_start_1/./src/ListMixin.js","webpack://vue_start_1/./src/TumLum.js","webpack://vue_start_1/./src/fetchClient.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('raw-loader',{attrs:{\"mytxt\":require('!raw-loader!./BanTblSub.vue').default}}),_c('div',[_vm._v(_vm._s(_vm.Lds()))]),_c('button',{attrs:{\"disabled\":_vm.adding == true || _vm.isEditing() == true},on:{\"click\":_vm.onSave1}},[_vm._v(\"Save\")]),_c('form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onSave.apply(null, arguments)}}},[_c('b-table',{ref:\"mytable\",attrs:{\"items\":_vm.items,\"fields\":_vm.fields,\"current-page\":_vm.currentPage,\"per-page\":_vm.perPage,\"filter\":_vm.filter,\"filter-included-fields\":_vm.filterOn,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"sort-direction\":_vm.sortDirection,\"stacked\":\"md\",\"striped\":\"\",\"show-empty\":\"\",\"small\":\"\",\"fixed\":\"\",\"outlined\":\"\",\"bordered\":\"\"},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event},\"filtered\":_vm.onFiltered},scopedSlots:_vm._u([{key:\"cell()\",fn:function(ref){\nvar value = ref.value;\nvar item = ref.item;\nvar key = ref.field.key;\nreturn [(_vm.sel[_vm.pri] != item[_vm.pri])?[(item[_vm.pri] != 0)?[(key == _vm.pri)?[_vm._v(\" \"+_vm._s(value)+\" \")]:_vm._e(),(key == 'Name')?[_vm._v(\" \"+_vm._s(value)+\" \")]:_vm._e()]:_vm._e()]:_vm._e(),((_vm.sel[_vm.pri] == item[_vm.pri] || item[_vm.pri] == 0))?[(key == _vm.pri)?[_c('span',[_vm._v(_vm._s(value))])]:_vm._e(),(key == 'Name')?[_c('b-form-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],class:{ 'ko-hop-le': _vm.errors.has(key), 'text-right': false },attrs:{\"autocomplete\":\"off\",\"name\":key,\"placeholder\":\"\"},model:{value:(item[key]),callback:function ($$v) {_vm.$set(item, key, $$v)},expression:\"item[key]\"}})]:_vm._e()]:_vm._e()]}},{key:\"cell(cmd)\",fn:function(row){return [(row.item[_vm.pri] == 0)?[_c('b-button',{staticClass:\"mr-1\",attrs:{\"variant\":\"outline\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.onSave(row.item)}}},[_c('b-icon-hand-thumbs-up')],1),_c('b-button',{staticClass:\"mr-1\",attrs:{\"variant\":\"outline\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.OnCancel(row.item)}}},[_c('b-icon-file-x')],1)]:[(_vm.sel[_vm.pri] != row.item[_vm.pri])?_c('b-button',{staticClass:\"mr-1\",attrs:{\"variant\":\"outline\",\"disabled\":_vm.isAdded() == true,\"size\":\"sm\"},on:{\"click\":function($event){return _vm.OnEdit(row.item)}}},[_c('b-icon-pencil-square')],1):_vm._e(),(_vm.sel[_vm.pri] != row.item[_vm.pri])?_c('b-button',{staticClass:\"mr-1\",attrs:{\"variant\":\"outline\",\"disabled\":_vm.isAdded() == true,\"size\":\"sm\"},on:{\"click\":function($event){return _vm.OnDel(row.item)}}},[_c('b-icon-trash')],1):_vm._e(),(_vm.sel[_vm.pri] == row.item[_vm.pri])?_c('b-button',{staticClass:\"mr-1\",attrs:{\"variant\":\"outline\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.onSave(row.item)}}},[_c('b-icon-hand-thumbs-up')],1):_vm._e(),(_vm.sel[_vm.pri] == row.item[_vm.pri])?_c('b-button',{staticClass:\"mr-1\",attrs:{\"variant\":\"outline\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.OnCancel(row.item)}}},[_c('b-icon-file-x')],1):_vm._e()]]}},{key:\"bottom-row\",fn:function(data){return [_c('td',{attrs:{\"colspan\":data.columns}},[_c('b-row',[_c('b-col',{staticClass:\"my-1\",attrs:{\"sm\":\"6\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Filter\",\"label-for\":\"filter-input\",\"label-cols-sm\":\"3\",\"label-align-sm\":\"right\",\"label-size\":\"sm\"}},[_c('b-input-group',{attrs:{\"size\":\"sm\"}},[_c('b-form-input',{attrs:{\"id\":\"filter-input\",\"type\":\"search\",\"placeholder\":\"Type to Search\"},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"disabled\":!_vm.filter},on:{\"click\":function($event){_vm.filter = ''}}},[_vm._v(\"Clear\")])],1)],1)],1)],1),_c('b-col',{staticClass:\"my-1\",attrs:{\"sm\":\"6\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Per page\",\"label-for\":\"per-page-select\",\"label-cols-sm\":\"6\",\"label-cols-md\":\"4\",\"label-cols-lg\":\"3\",\"label-align-sm\":\"right\",\"label-size\":\"sm\"}},[_c('b-form-select',{attrs:{\"id\":\"per-page-select\",\"options\":_vm.pageOptions,\"size\":\"sm\"},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}})],1)],1),_c('b-col',{staticClass:\"my-1 text-right\",attrs:{\"sm\":\"6\"}},[_vm._v(\" page :\"+_vm._s(_vm.currentPage)+\" / \"+_vm._s(_vm.getLastPage(_vm.totalRows))+\" of \"+_vm._s(_vm.totalRows)+\" \"),_c('b-button',{attrs:{\"disabled\":_vm.adding == true || _vm.isEditing() == true,\"size\":\"sm\"},on:{\"click\":_vm.OnAdd}},[_c('b',[_vm._v(\"Add\")])])],1),_c('b-col',{staticClass:\"my-1\",attrs:{\"sm\":\"6\"}},[_c('b-pagination',{staticClass:\"my-0\",attrs:{\"disabled\":_vm.adding == true || _vm.isEditing() == true,\"total-rows\":_vm.totalRows,\"per-page\":_vm.perPage,\"align\":\"fill\",\"size\":\"sm\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)],1)]}}])})],1),_c('b-modal',{attrs:{\"id\":_vm.infoModal.id,\"title\":_vm.infoModal.title,\"ok-only\":\"\"},on:{\"hide\":_vm.resetInfoModal}},[_c('pre',[_vm._v(_vm._s(_vm.infoModal.content))])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-container fluid>\r\n        <raw-loader :mytxt=\"require('!raw-loader!./BanTblSub.vue').default\"></raw-loader>\r\n        <div>{{ Lds() }}</div>\r\n        <!-- <div>{{ Mons }}</div> -->\r\n        <button :disabled=\"adding == true || isEditing() == true\" @click=\"onSave1\">Save</button>\r\n        <form @submit.stop.prevent=\"onSave\">\r\n            <b-table ref=\"mytable\" :items=\"items\" :fields=\"fields\" :current-page=\"currentPage\" :per-page=\"perPage\"\r\n                :filter=\"filter\" :filter-included-fields=\"filterOn\" :sort-by.sync=\"sortBy\" :sort-desc.sync=\"sortDesc\"\r\n                :sort-direction=\"sortDirection\" stacked=\"md\" striped show-empty small fixed outlined bordered\r\n                @filtered=\"onFiltered\">\r\n                <template v-slot:cell()=\"{ value, item, field: { key } }\">\r\n                    <template v-if=\"sel[pri] != item[pri]\">\r\n                        <template v-if=\"item[pri] != 0\">\r\n                            <template v-if=\"key == pri\">\r\n                                {{ value }}\r\n                            </template>\r\n                            <template v-if=\"key == 'Name'\">\r\n                                {{ value }}\r\n                            </template>\r\n                        </template>\r\n                    </template>\r\n                    <template v-if=\"(sel[pri] == item[pri] || item[pri] == 0)\">\r\n                        <template v-if=\"key == pri\">\r\n                            <span>{{ value }}</span>\r\n                        </template>\r\n                        <template v-if=\"key == 'Name'\">\r\n                            <b-form-input autocomplete=\"off\" v-model=\"item[key]\" :name=\"key\" v-validate=\"'required'\"\r\n                                placeholder=\"\" :class=\"{ 'ko-hop-le': errors.has(key), 'text-right': false }\">\r\n                            </b-form-input>\r\n                        </template>\r\n\r\n                    </template>\r\n                </template>\r\n\r\n                <template #cell(cmd)=\"row\">\r\n                    <template v-if=\"row.item[pri] == 0\">\r\n                        <b-button variant=\"outline\" class=\"mr-1\" size=\"sm\" @click=\"onSave(row.item)\">\r\n                            <b-icon-hand-thumbs-up></b-icon-hand-thumbs-up>\r\n                        </b-button>\r\n                        <b-button variant=\"outline\" class=\"mr-1\" size=\"sm\" @click=\"OnCancel(row.item)\">\r\n                            <b-icon-file-x></b-icon-file-x>\r\n                        </b-button>\r\n                    </template>\r\n                    <template v-else>\r\n                        <b-button variant=\"outline\" :disabled=\"isAdded() == true\" class=\"mr-1\"\r\n                            v-if=\"sel[pri] != row.item[pri]\" size=\"sm\" @click=\"OnEdit(row.item)\">\r\n                            <b-icon-pencil-square></b-icon-pencil-square>\r\n                        </b-button>\r\n                        <b-button variant=\"outline\" :disabled=\"isAdded() == true\" class=\"mr-1\"\r\n                            v-if=\"sel[pri] != row.item[pri]\" size=\"sm\" @click=\"OnDel(row.item)\">\r\n                            <b-icon-trash></b-icon-trash>\r\n                        </b-button>\r\n                        <b-button variant=\"outline\" class=\"mr-1\" v-if=\"sel[pri] == row.item[pri]\" size=\"sm\"\r\n                            @click=\"onSave(row.item)\">\r\n                            <b-icon-hand-thumbs-up></b-icon-hand-thumbs-up>\r\n                        </b-button>\r\n                        <b-button variant=\"outline\" class=\"mr-1\" v-if=\"sel[pri] == row.item[pri]\" size=\"sm\"\r\n                            @click=\"OnCancel(row.item)\">\r\n                            <b-icon-file-x></b-icon-file-x>\r\n                        </b-button>\r\n                    </template>\r\n                </template>\r\n                <template #bottom-row=\"data\">\r\n                    <td :colspan=\"data.columns\">\r\n                        <b-row>\r\n                            <b-col sm=\"6\" class=\"my-1\">\r\n                                <b-form-group label=\"Filter\" label-for=\"filter-input\" label-cols-sm=\"3\"\r\n                                    label-align-sm=\"right\" label-size=\"sm\" class=\"mb-0\">\r\n                                    <b-input-group size=\"sm\">\r\n                                        <b-form-input id=\"filter-input\" v-model=\"filter\" type=\"search\"\r\n                                            placeholder=\"Type to Search\"></b-form-input>\r\n                                        <b-input-group-append>\r\n                                            <b-button :disabled=\"!filter\" @click=\"filter = ''\">Clear</b-button>\r\n                                        </b-input-group-append>\r\n                                    </b-input-group>\r\n                                </b-form-group>\r\n                            </b-col>\r\n                            <b-col sm=\"6\" class=\"my-1\">\r\n                                <b-form-group label=\"Per page\" label-for=\"per-page-select\" label-cols-sm=\"6\"\r\n                                    label-cols-md=\"4\" label-cols-lg=\"3\" label-align-sm=\"right\" label-size=\"sm\" class=\"mb-0\">\r\n                                    <b-form-select id=\"per-page-select\" v-model=\"perPage\" :options=\"pageOptions\"\r\n                                        size=\"sm\"></b-form-select>\r\n                                </b-form-group>\r\n                            </b-col>\r\n                            <b-col sm=\"6\" class=\"my-1 text-right\">\r\n                                page :{{ currentPage }} / {{ getLastPage(totalRows) }} of {{ totalRows }}\r\n                                <b-button :disabled=\"adding == true || isEditing() == true\" @click=\"OnAdd\"\r\n                                    size=\"sm\"><b>Add</b></b-button>\r\n                            </b-col>\r\n                            <b-col sm=\"6\" class=\"my-1\">\r\n                                <b-pagination :disabled=\"adding == true || isEditing() == true\" v-model=\"currentPage\"\r\n                                    :total-rows=\"totalRows\" :per-page=\"perPage\" align=\"fill\" size=\"sm\"\r\n                                    class=\"my-0\"></b-pagination>\r\n                            </b-col>\r\n                        </b-row>\r\n                    </td>\r\n                </template>\r\n            </b-table>\r\n        </form>\r\n        <!-- Info modal -->\r\n        <b-modal :id=\"infoModal.id\" :title=\"infoModal.title\" ok-only @hide=\"resetInfoModal\">\r\n            <pre>{{ infoModal.content }}</pre>\r\n        </b-modal>\r\n    </b-container>\r\n</template>\r\n<script>\r\nimport VeeValidate from \"vee-validate\";\r\nimport Vue from \"vue\";\r\nVue.use(VeeValidate, {\r\n    classes: true,\r\n    fieldsBagName: 'veeFields'\r\n});\r\n\r\nimport moment from \"moment\";\r\nimport vSelect from \"vue-select\";\r\nVue.component(\"v-select\", vSelect);\r\nimport ListMixin from \"@/ListMixin\"\r\n\r\nimport fetchClient from '@/fetchClient';\r\nimport TumLum from '@/TumLum';\r\n\r\nexport default {\r\n    props: [\"LopHocId\"],\r\n    mixins: [ListMixin],\r\n    data() {\r\n        return {\r\n            items: [\r\n            ],\r\n            fields: [\r\n                {\r\n                    key: 'Id',\r\n                    formatter: (value, key, item) => {\r\n                        let text = value.toString();\r\n                        return (text.length < 4) ? text : text.substring(0, 4) + \"...\";\r\n                    },\r\n                    sortable: true,\r\n                    thClass: 'text-center',\r\n                    tdClass: 'text-center align-middle',\r\n                    //tdClass: 'align-middle'\r\n                    thStyle: { width: \"10%\" },\r\n                },\r\n                //{ key: 'TenHocSinh', sortable: true, thClass: 'text-center', tdClass: 'align-middle', thStyle: { width: \"80%\" }, },\r\n                { key: 'Name', sortable: true, thClass: 'text-center', tdClass: 'align-middle', thStyle: { width: \"80%\" }, },\r\n                {\r\n                    key: 'cmd',\r\n                    class: 'text-center',\r\n                    thClass: 'text-center',\r\n                    tdClass: 'align-middle',\r\n                    thStyle: { width: \"10%\" }\r\n                }\r\n            ],\r\n            totalRows: 1,\r\n            currentPage: 1,\r\n            perPage: 3,\r\n            pageOptions: [3, 5, 10, 15, { value: 100, text: \"Show a lot\" }],\r\n            sortBy: '',\r\n            sortDesc: false,\r\n            sortDirection: 'asc',\r\n            filter: null,\r\n            filterOn: [],\r\n            infoModal: {\r\n                id: 'info-modal',\r\n                title: '',\r\n                content: ''\r\n            },\r\n\r\n            sel: {},\r\n            pri: 'Id',\r\n            adding: false,\r\n            lastPage: 0,\r\n\r\n            ds: [],\r\n            Mons: [],\r\n\r\n        }\r\n    },\r\n    computed: {\r\n        sortOptions() {\r\n            return this.fields\r\n                .filter(f => f.sortable)\r\n                .map(f => {\r\n                    return { text: f.label, value: f.key }\r\n                })\r\n        }\r\n    },\r\n    mounted() {\r\n        this.GetAll();\r\n    },\r\n    methods: {\r\n        UpdateRow(item, DonGia, SoLg, Tien) {\r\n            item.SoLg = 0;\r\n            item.Tien = 0;\r\n        },\r\n        onSoLgChange(item) {\r\n            let Tien = item.SoLg * item.DonGia;\r\n            item.Tien = Tien;\r\n        },\r\n        onMonChange(item) {\r\n            let MonId = item.MonId;\r\n            let index = this.Mons.findIndex(x => x.id == MonId);\r\n            if (index >= 0) {\r\n                let price = this.Mons[index].price;\r\n                let SoLg = item.SoLg;\r\n                let Tien = SoLg * price;\r\n                item.DonGia = price;\r\n                item.Tien = Tien;\r\n            }\r\n        },\r\n        onSave1() {\r\n            let list = this.Lds();\r\n            this.UpdateList(list);\r\n        },\r\n        onSave(item) {\r\n            this.$validator.validateAll().then((result) => {\r\n                if (!result) {\r\n                    this.toast(\"Không hợp lệ\");\r\n                    return;\r\n                }\r\n                let r = JSON.parse(JSON.stringify(item));\r\n                if (r[this.pri] == 0) {\r\n                    let index = this.items.findIndex(x => x[this.pri] == r[this.pri]);\r\n\r\n                    r[this.pri] = this.createId();\r\n                    this.Add(r);\r\n\r\n                    this.$set(this.items, index, r);\r\n                    this.adding = false;\r\n                    this.$refs.mytable.refresh();\r\n                } else {\r\n\r\n                    this.Update(r);\r\n\r\n                    let index = this.items.findIndex(x => x[this.pri] == r[this.pri]);\r\n                    this.$set(this.items, index, r);\r\n                    this.sel = {};\r\n                }\r\n            });\r\n        },\r\n        OnDel(item) {\r\n            this.delRow(item);\r\n\r\n            this.Del(item);\r\n\r\n        },\r\n        delRow(item) {\r\n            let id = item[this.pri];\r\n            let index = this.items.findIndex(x => x[this.pri] == id);\r\n            this.items.splice(index, 1);\r\n            this.totalRows = this.items.length;\r\n            this.lastPage = this.getLastPage(this.totalRows);\r\n        },\r\n        doCancel(item) {\r\n            for (let key in item) {\r\n                if (item[key] != this.sel[key]) {\r\n                    item[key] = this.sel[key]\r\n                }\r\n            }\r\n        },\r\n        isAdded() {\r\n            let kq = false;\r\n            this.items.forEach(x => {\r\n                if (x[this.pri] == 0) kq = true;\r\n            })\r\n            return kq;\r\n        },\r\n        OnEdit(item) {\r\n            if (JSON.stringify(this.sel) != \"{}\") return;\r\n            this.sel = JSON.parse(JSON.stringify(item));\r\n        },\r\n        OnCancel(item) {\r\n            if (item[this.pri] == 0) {\r\n                let index = this.items.findIndex(x => x[this.pri] == item[this.pri]);\r\n                this.items.splice(index, 1);\r\n                this.adding = false;\r\n                this.$refs.mytable.refresh();\r\n            } else {\r\n                this.doCancel(item);\r\n                this.sel = {};\r\n            }\r\n        },\r\n        OnAdd() {\r\n            let r = {\r\n                Id: 0,\r\n                Name: 'Ban so',\r\n            }\r\n            this.items.unshift(r);\r\n            this.adding = true;\r\n            this.currentPage = 1;\r\n            this.totalRows = this.items.length;\r\n            this.$refs.mytable.refresh();\r\n        },\r\n        isEditing() {\r\n            return JSON.stringify(this.sel) != \"{}\"\r\n        },\r\n        getLastPage(count) {\r\n            let pageSize = this.perPage;//this.tabulator.getPageSize();\r\n            let du = count % pageSize;\r\n            return du == 0 ? count / pageSize : (count - du) / pageSize + 1;\r\n        },\r\n        info(item, index, button) {\r\n            this.infoModal.title = `Row index: ${index}`\r\n            this.infoModal.content = JSON.stringify(item, null, 2)\r\n            this.$root.$emit('bv::show::modal', this.infoModal.id, button)\r\n        },\r\n        resetInfoModal() {\r\n            this.infoModal.title = ''\r\n            this.infoModal.content = ''\r\n        },\r\n        onFiltered(filteredItems) {\r\n            this.totalRows = filteredItems.length\r\n            this.currentPage = 1\r\n        },\r\n        toast(msg, variant = null) {\r\n            this.$bvToast.toast(msg, {\r\n                title: `Information`,\r\n                variant: variant,\r\n                solid: true,\r\n            });\r\n        },\r\n        async GetAll() {\r\n            return await fetchClient.get(`/api/Ban4/GetAll`)\r\n                .then(res => {\r\n                    let items = res.data.list;\r\n\r\n                    this.SetPri(this.pri);\r\n                    this.SetDs(items);\r\n\r\n                    this.items = items;\r\n                    this.totalRows = this.items.length;\r\n                    this.lastPage = this.getLastPage(this.totalRows);\r\n\r\n                    this.LdsMon();\r\n                })\r\n                .catch((err) => {\r\n                    TumLum.XuLyErr(err);\r\n                });\r\n        },\r\n        async LdsMon() {\r\n            return await fetchClient(`/api/Mon2/ListMonComboPrice`).then(res => {\r\n                this.Mons = res.data.list;\r\n            }).catch(err => {\r\n                TumLum.XuLyErr(err);\r\n            })\r\n        },\r\n        async UpdateList(list) {\r\n            return await fetchClient.post(`/api/BanChiTiet2/UpdateBanChiTietNote`, list)\r\n                .then(res => {\r\n                    this.GetAll();\r\n                })\r\n                .catch((err) => {\r\n                    TumLum.XuLyErr(err);\r\n                });\r\n        },\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BanTblSub.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BanTblSub.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BanTblSub.vue?vue&type=template&id=15300478&\"\nimport script from \"./BanTblSub.vue?vue&type=script&lang=js&\"\nexport * from \"./BanTblSub.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.hasIndices) result += 'd';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var call = require('../internals/function-call');\nvar hasOwn = require('../internals/has-own-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar regExpFlags = require('../internals/regexp-flags');\n\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (R) {\n  var flags = R.flags;\n  return flags === undefined && !('flags' in RegExpPrototype) && !hasOwn(R, 'flags') && isPrototypeOf(RegExpPrototype, R)\n    ? call(regExpFlags, R) : flags;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar TypeError = global.TypeError;\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","'use strict';\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar defineBuiltIn = require('../internals/define-built-in');\nvar anObject = require('../internals/an-object');\nvar $toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar getRegExpFlags = require('../internals/regexp-get-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar n$ToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return n$ToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = PROPER_FUNCTION_NAME && n$ToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  defineBuiltIn(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var pattern = $toString(R.source);\n    var flags = $toString(getRegExpFlags(R));\n    return '/' + pattern + '/' + flags;\n  }, { unsafe: true });\n}\n","export default \"<template>\\r\\n    <b-container fluid>\\r\\n        <raw-loader :mytxt=\\\"require('!raw-loader!./BanTblSub.vue').default\\\"></raw-loader>\\r\\n        <div>{{ Lds() }}</div>\\r\\n        <!-- <div>{{ Mons }}</div> -->\\r\\n        <button :disabled=\\\"adding == true || isEditing() == true\\\" @click=\\\"onSave1\\\">Save</button>\\r\\n        <form @submit.stop.prevent=\\\"onSave\\\">\\r\\n            <b-table ref=\\\"mytable\\\" :items=\\\"items\\\" :fields=\\\"fields\\\" :current-page=\\\"currentPage\\\" :per-page=\\\"perPage\\\"\\r\\n                :filter=\\\"filter\\\" :filter-included-fields=\\\"filterOn\\\" :sort-by.sync=\\\"sortBy\\\" :sort-desc.sync=\\\"sortDesc\\\"\\r\\n                :sort-direction=\\\"sortDirection\\\" stacked=\\\"md\\\" striped show-empty small fixed outlined bordered\\r\\n                @filtered=\\\"onFiltered\\\">\\r\\n                <template v-slot:cell()=\\\"{ value, item, field: { key } }\\\">\\r\\n                    <template v-if=\\\"sel[pri] != item[pri]\\\">\\r\\n                        <template v-if=\\\"item[pri] != 0\\\">\\r\\n                            <template v-if=\\\"key == pri\\\">\\r\\n                                {{ value }}\\r\\n                            </template>\\r\\n                            <template v-if=\\\"key == 'Name'\\\">\\r\\n                                {{ value }}\\r\\n                            </template>\\r\\n                        </template>\\r\\n                    </template>\\r\\n                    <template v-if=\\\"(sel[pri] == item[pri] || item[pri] == 0)\\\">\\r\\n                        <template v-if=\\\"key == pri\\\">\\r\\n                            <span>{{ value }}</span>\\r\\n                        </template>\\r\\n                        <template v-if=\\\"key == 'Name'\\\">\\r\\n                            <b-form-input autocomplete=\\\"off\\\" v-model=\\\"item[key]\\\" :name=\\\"key\\\" v-validate=\\\"'required'\\\"\\r\\n                                placeholder=\\\"\\\" :class=\\\"{ 'ko-hop-le': errors.has(key), 'text-right': false }\\\">\\r\\n                            </b-form-input>\\r\\n                        </template>\\r\\n\\r\\n                    </template>\\r\\n                </template>\\r\\n\\r\\n                <template #cell(cmd)=\\\"row\\\">\\r\\n                    <template v-if=\\\"row.item[pri] == 0\\\">\\r\\n                        <b-button variant=\\\"outline\\\" class=\\\"mr-1\\\" size=\\\"sm\\\" @click=\\\"onSave(row.item)\\\">\\r\\n                            <b-icon-hand-thumbs-up></b-icon-hand-thumbs-up>\\r\\n                        </b-button>\\r\\n                        <b-button variant=\\\"outline\\\" class=\\\"mr-1\\\" size=\\\"sm\\\" @click=\\\"OnCancel(row.item)\\\">\\r\\n                            <b-icon-file-x></b-icon-file-x>\\r\\n                        </b-button>\\r\\n                    </template>\\r\\n                    <template v-else>\\r\\n                        <b-button variant=\\\"outline\\\" :disabled=\\\"isAdded() == true\\\" class=\\\"mr-1\\\"\\r\\n                            v-if=\\\"sel[pri] != row.item[pri]\\\" size=\\\"sm\\\" @click=\\\"OnEdit(row.item)\\\">\\r\\n                            <b-icon-pencil-square></b-icon-pencil-square>\\r\\n                        </b-button>\\r\\n                        <b-button variant=\\\"outline\\\" :disabled=\\\"isAdded() == true\\\" class=\\\"mr-1\\\"\\r\\n                            v-if=\\\"sel[pri] != row.item[pri]\\\" size=\\\"sm\\\" @click=\\\"OnDel(row.item)\\\">\\r\\n                            <b-icon-trash></b-icon-trash>\\r\\n                        </b-button>\\r\\n                        <b-button variant=\\\"outline\\\" class=\\\"mr-1\\\" v-if=\\\"sel[pri] == row.item[pri]\\\" size=\\\"sm\\\"\\r\\n                            @click=\\\"onSave(row.item)\\\">\\r\\n                            <b-icon-hand-thumbs-up></b-icon-hand-thumbs-up>\\r\\n                        </b-button>\\r\\n                        <b-button variant=\\\"outline\\\" class=\\\"mr-1\\\" v-if=\\\"sel[pri] == row.item[pri]\\\" size=\\\"sm\\\"\\r\\n                            @click=\\\"OnCancel(row.item)\\\">\\r\\n                            <b-icon-file-x></b-icon-file-x>\\r\\n                        </b-button>\\r\\n                    </template>\\r\\n                </template>\\r\\n                <template #bottom-row=\\\"data\\\">\\r\\n                    <td :colspan=\\\"data.columns\\\">\\r\\n                        <b-row>\\r\\n                            <b-col sm=\\\"6\\\" class=\\\"my-1\\\">\\r\\n                                <b-form-group label=\\\"Filter\\\" label-for=\\\"filter-input\\\" label-cols-sm=\\\"3\\\"\\r\\n                                    label-align-sm=\\\"right\\\" label-size=\\\"sm\\\" class=\\\"mb-0\\\">\\r\\n                                    <b-input-group size=\\\"sm\\\">\\r\\n                                        <b-form-input id=\\\"filter-input\\\" v-model=\\\"filter\\\" type=\\\"search\\\"\\r\\n                                            placeholder=\\\"Type to Search\\\"></b-form-input>\\r\\n                                        <b-input-group-append>\\r\\n                                            <b-button :disabled=\\\"!filter\\\" @click=\\\"filter = ''\\\">Clear</b-button>\\r\\n                                        </b-input-group-append>\\r\\n                                    </b-input-group>\\r\\n                                </b-form-group>\\r\\n                            </b-col>\\r\\n                            <b-col sm=\\\"6\\\" class=\\\"my-1\\\">\\r\\n                                <b-form-group label=\\\"Per page\\\" label-for=\\\"per-page-select\\\" label-cols-sm=\\\"6\\\"\\r\\n                                    label-cols-md=\\\"4\\\" label-cols-lg=\\\"3\\\" label-align-sm=\\\"right\\\" label-size=\\\"sm\\\" class=\\\"mb-0\\\">\\r\\n                                    <b-form-select id=\\\"per-page-select\\\" v-model=\\\"perPage\\\" :options=\\\"pageOptions\\\"\\r\\n                                        size=\\\"sm\\\"></b-form-select>\\r\\n                                </b-form-group>\\r\\n                            </b-col>\\r\\n                            <b-col sm=\\\"6\\\" class=\\\"my-1 text-right\\\">\\r\\n                                page :{{ currentPage }} / {{ getLastPage(totalRows) }} of {{ totalRows }}\\r\\n                                <b-button :disabled=\\\"adding == true || isEditing() == true\\\" @click=\\\"OnAdd\\\"\\r\\n                                    size=\\\"sm\\\"><b>Add</b></b-button>\\r\\n                            </b-col>\\r\\n                            <b-col sm=\\\"6\\\" class=\\\"my-1\\\">\\r\\n                                <b-pagination :disabled=\\\"adding == true || isEditing() == true\\\" v-model=\\\"currentPage\\\"\\r\\n                                    :total-rows=\\\"totalRows\\\" :per-page=\\\"perPage\\\" align=\\\"fill\\\" size=\\\"sm\\\"\\r\\n                                    class=\\\"my-0\\\"></b-pagination>\\r\\n                            </b-col>\\r\\n                        </b-row>\\r\\n                    </td>\\r\\n                </template>\\r\\n            </b-table>\\r\\n        </form>\\r\\n        <!-- Info modal -->\\r\\n        <b-modal :id=\\\"infoModal.id\\\" :title=\\\"infoModal.title\\\" ok-only @hide=\\\"resetInfoModal\\\">\\r\\n            <pre>{{ infoModal.content }}</pre>\\r\\n        </b-modal>\\r\\n    </b-container>\\r\\n</template>\\r\\n<script>\\r\\nimport VeeValidate from \\\"vee-validate\\\";\\r\\nimport Vue from \\\"vue\\\";\\r\\nVue.use(VeeValidate, {\\r\\n    classes: true,\\r\\n    fieldsBagName: 'veeFields'\\r\\n});\\r\\n\\r\\nimport moment from \\\"moment\\\";\\r\\nimport vSelect from \\\"vue-select\\\";\\r\\nVue.component(\\\"v-select\\\", vSelect);\\r\\nimport ListMixin from \\\"@/ListMixin\\\"\\r\\n\\r\\nimport fetchClient from '@/fetchClient';\\r\\nimport TumLum from '@/TumLum';\\r\\n\\r\\nexport default {\\r\\n    props: [\\\"LopHocId\\\"],\\r\\n    mixins: [ListMixin],\\r\\n    data() {\\r\\n        return {\\r\\n            items: [\\r\\n            ],\\r\\n            fields: [\\r\\n                {\\r\\n                    key: 'Id',\\r\\n                    formatter: (value, key, item) => {\\r\\n                        let text = value.toString();\\r\\n                        return (text.length < 4) ? text : text.substring(0, 4) + \\\"...\\\";\\r\\n                    },\\r\\n                    sortable: true,\\r\\n                    thClass: 'text-center',\\r\\n                    tdClass: 'text-center align-middle',\\r\\n                    //tdClass: 'align-middle'\\r\\n                    thStyle: { width: \\\"10%\\\" },\\r\\n                },\\r\\n                //{ key: 'TenHocSinh', sortable: true, thClass: 'text-center', tdClass: 'align-middle', thStyle: { width: \\\"80%\\\" }, },\\r\\n                { key: 'Name', sortable: true, thClass: 'text-center', tdClass: 'align-middle', thStyle: { width: \\\"80%\\\" }, },\\r\\n                {\\r\\n                    key: 'cmd',\\r\\n                    class: 'text-center',\\r\\n                    thClass: 'text-center',\\r\\n                    tdClass: 'align-middle',\\r\\n                    thStyle: { width: \\\"10%\\\" }\\r\\n                }\\r\\n            ],\\r\\n            totalRows: 1,\\r\\n            currentPage: 1,\\r\\n            perPage: 3,\\r\\n            pageOptions: [3, 5, 10, 15, { value: 100, text: \\\"Show a lot\\\" }],\\r\\n            sortBy: '',\\r\\n            sortDesc: false,\\r\\n            sortDirection: 'asc',\\r\\n            filter: null,\\r\\n            filterOn: [],\\r\\n            infoModal: {\\r\\n                id: 'info-modal',\\r\\n                title: '',\\r\\n                content: ''\\r\\n            },\\r\\n\\r\\n            sel: {},\\r\\n            pri: 'Id',\\r\\n            adding: false,\\r\\n            lastPage: 0,\\r\\n\\r\\n            ds: [],\\r\\n            Mons: [],\\r\\n\\r\\n        }\\r\\n    },\\r\\n    computed: {\\r\\n        sortOptions() {\\r\\n            return this.fields\\r\\n                .filter(f => f.sortable)\\r\\n                .map(f => {\\r\\n                    return { text: f.label, value: f.key }\\r\\n                })\\r\\n        }\\r\\n    },\\r\\n    mounted() {\\r\\n        this.GetAll();\\r\\n    },\\r\\n    methods: {\\r\\n        UpdateRow(item, DonGia, SoLg, Tien) {\\r\\n            item.SoLg = 0;\\r\\n            item.Tien = 0;\\r\\n        },\\r\\n        onSoLgChange(item) {\\r\\n            let Tien = item.SoLg * item.DonGia;\\r\\n            item.Tien = Tien;\\r\\n        },\\r\\n        onMonChange(item) {\\r\\n            let MonId = item.MonId;\\r\\n            let index = this.Mons.findIndex(x => x.id == MonId);\\r\\n            if (index >= 0) {\\r\\n                let price = this.Mons[index].price;\\r\\n                let SoLg = item.SoLg;\\r\\n                let Tien = SoLg * price;\\r\\n                item.DonGia = price;\\r\\n                item.Tien = Tien;\\r\\n            }\\r\\n        },\\r\\n        onSave1() {\\r\\n            let list = this.Lds();\\r\\n            this.UpdateList(list);\\r\\n        },\\r\\n        onSave(item) {\\r\\n            this.$validator.validateAll().then((result) => {\\r\\n                if (!result) {\\r\\n                    this.toast(\\\"Không hợp lệ\\\");\\r\\n                    return;\\r\\n                }\\r\\n                let r = JSON.parse(JSON.stringify(item));\\r\\n                if (r[this.pri] == 0) {\\r\\n                    let index = this.items.findIndex(x => x[this.pri] == r[this.pri]);\\r\\n\\r\\n                    r[this.pri] = this.createId();\\r\\n                    this.Add(r);\\r\\n\\r\\n                    this.$set(this.items, index, r);\\r\\n                    this.adding = false;\\r\\n                    this.$refs.mytable.refresh();\\r\\n                } else {\\r\\n\\r\\n                    this.Update(r);\\r\\n\\r\\n                    let index = this.items.findIndex(x => x[this.pri] == r[this.pri]);\\r\\n                    this.$set(this.items, index, r);\\r\\n                    this.sel = {};\\r\\n                }\\r\\n            });\\r\\n        },\\r\\n        OnDel(item) {\\r\\n            this.delRow(item);\\r\\n\\r\\n            this.Del(item);\\r\\n\\r\\n        },\\r\\n        delRow(item) {\\r\\n            let id = item[this.pri];\\r\\n            let index = this.items.findIndex(x => x[this.pri] == id);\\r\\n            this.items.splice(index, 1);\\r\\n            this.totalRows = this.items.length;\\r\\n            this.lastPage = this.getLastPage(this.totalRows);\\r\\n        },\\r\\n        doCancel(item) {\\r\\n            for (let key in item) {\\r\\n                if (item[key] != this.sel[key]) {\\r\\n                    item[key] = this.sel[key]\\r\\n                }\\r\\n            }\\r\\n        },\\r\\n        isAdded() {\\r\\n            let kq = false;\\r\\n            this.items.forEach(x => {\\r\\n                if (x[this.pri] == 0) kq = true;\\r\\n            })\\r\\n            return kq;\\r\\n        },\\r\\n        OnEdit(item) {\\r\\n            if (JSON.stringify(this.sel) != \\\"{}\\\") return;\\r\\n            this.sel = JSON.parse(JSON.stringify(item));\\r\\n        },\\r\\n        OnCancel(item) {\\r\\n            if (item[this.pri] == 0) {\\r\\n                let index = this.items.findIndex(x => x[this.pri] == item[this.pri]);\\r\\n                this.items.splice(index, 1);\\r\\n                this.adding = false;\\r\\n                this.$refs.mytable.refresh();\\r\\n            } else {\\r\\n                this.doCancel(item);\\r\\n                this.sel = {};\\r\\n            }\\r\\n        },\\r\\n        OnAdd() {\\r\\n            let r = {\\r\\n                Id: 0,\\r\\n                Name: 'Ban so',\\r\\n            }\\r\\n            this.items.unshift(r);\\r\\n            this.adding = true;\\r\\n            this.currentPage = 1;\\r\\n            this.totalRows = this.items.length;\\r\\n            this.$refs.mytable.refresh();\\r\\n        },\\r\\n        isEditing() {\\r\\n            return JSON.stringify(this.sel) != \\\"{}\\\"\\r\\n        },\\r\\n        getLastPage(count) {\\r\\n            let pageSize = this.perPage;//this.tabulator.getPageSize();\\r\\n            let du = count % pageSize;\\r\\n            return du == 0 ? count / pageSize : (count - du) / pageSize + 1;\\r\\n        },\\r\\n        info(item, index, button) {\\r\\n            this.infoModal.title = `Row index: ${index}`\\r\\n            this.infoModal.content = JSON.stringify(item, null, 2)\\r\\n            this.$root.$emit('bv::show::modal', this.infoModal.id, button)\\r\\n        },\\r\\n        resetInfoModal() {\\r\\n            this.infoModal.title = ''\\r\\n            this.infoModal.content = ''\\r\\n        },\\r\\n        onFiltered(filteredItems) {\\r\\n            this.totalRows = filteredItems.length\\r\\n            this.currentPage = 1\\r\\n        },\\r\\n        toast(msg, variant = null) {\\r\\n            this.$bvToast.toast(msg, {\\r\\n                title: `Information`,\\r\\n                variant: variant,\\r\\n                solid: true,\\r\\n            });\\r\\n        },\\r\\n        async GetAll() {\\r\\n            return await fetchClient.get(`/api/Ban4/GetAll`)\\r\\n                .then(res => {\\r\\n                    let items = res.data.list;\\r\\n\\r\\n                    this.SetPri(this.pri);\\r\\n                    this.SetDs(items);\\r\\n\\r\\n                    this.items = items;\\r\\n                    this.totalRows = this.items.length;\\r\\n                    this.lastPage = this.getLastPage(this.totalRows);\\r\\n\\r\\n                    this.LdsMon();\\r\\n                })\\r\\n                .catch((err) => {\\r\\n                    TumLum.XuLyErr(err);\\r\\n                });\\r\\n        },\\r\\n        async LdsMon() {\\r\\n            return await fetchClient(`/api/Mon2/ListMonComboPrice`).then(res => {\\r\\n                this.Mons = res.data.list;\\r\\n            }).catch(err => {\\r\\n                TumLum.XuLyErr(err);\\r\\n            })\\r\\n        },\\r\\n        async UpdateList(list) {\\r\\n            return await fetchClient.post(`/api/BanChiTiet2/UpdateBanChiTietNote`, list)\\r\\n                .then(res => {\\r\\n                    this.GetAll();\\r\\n                })\\r\\n                .catch((err) => {\\r\\n                    TumLum.XuLyErr(err);\\r\\n                });\\r\\n        },\\r\\n    }\\r\\n}\\r\\n</script>\\r\\n\";","export default{    \r\n    data() {\r\n        return {\r\n            pri:\"Id\",\r\n            ds1:[\r\n                // {id:1,ten:'thuc 101'},\r\n                // {id:2,ten:'thuc 102'}\r\n            ]\r\n        };\r\n    },\r\n    created: function () {\r\n    },\r\n    methods: {\r\n        SetPri(pri){\r\n            this.pri=pri;\r\n        },\r\n        SetDs(ds){\r\n            this.ds1=[];\r\n            ds.forEach(x => {\r\n                let item = JSON.parse(JSON.stringify(x));\r\n                item.Note = '';\r\n                this.ds1.push(item);\r\n            })\r\n        },\r\n        Lds(){\r\n            return this.ds1;\r\n        },\r\n        createId() {\r\n            let max = 0;\r\n            this.ds1.forEach(x => {\r\n              if (x[this.pri] > max) {\r\n                max = x[this.pri];\r\n              }\r\n            })\r\n            return max + 1;\r\n          },\r\n        Add(item){\r\n            let r = JSON.parse(JSON.stringify(item));\r\n            r.Note = \"new\";\r\n            this.ds1.push(r);\r\n        },\r\n        Find(id){\r\n            let index= this.ds1.findIndex(x=>x[this.pri]==id);\r\n            if( index >=0 ){\r\n                return this.ds1[index];\r\n            }\r\n            return null;\r\n        },\r\n        Update(r){\r\n            let item=this.Find(r[this.pri]);\r\n            if(item!=null){\r\n                let temp=JSON.parse(JSON.stringify(item));\r\n                let keys=Object.keys(r);\r\n                keys.forEach(x=>{\r\n                    temp[x]=r[x];\r\n                })\r\n                if(temp.Note==''){\r\n                    temp.Note=\"edit\";\r\n                }\r\n                let index=this.ds1.findIndex(x=>x[this.pri]==temp[this.pri]);\r\n                this.ds1[index]=temp;\r\n            }\r\n        },\r\n        Del(item){\r\n            let id = item[this.pri];\r\n            let r=this.Find(id);\r\n            if(r!=null){\r\n                let index=this.ds1.findIndex(x=>x[this.pri]==id);\r\n                if(r.Note=='new'){\r\n                    this.ds1.splice(index,1);\r\n                }else{\r\n                    r.Note=\"del\";\r\n                    this.ds1[index]=r;\r\n                }\r\n            }\r\n        },\r\n    }\r\n};\r\n/*\r\nimport ListMixin from \"@/ListMixin\"\r\nexport default {\r\n    name: 'HomeView',\r\n    mixins:[ListMixin],\r\n    components: {\r\n    },\r\n    mounted() {\r\n        this.lds();\r\n    },\r\n    methods: {\r\n    }\r\n}\r\n*/\r\n","export default {\r\n    XuLyErr(err) {\r\n        let code = JSON.parse(JSON.stringify(err)).status;\r\n        if (code == 400) {\r\n            let msg = JSON.parse(JSON.stringify(err.response)).data.message;\r\n            alert(msg);\r\n        } else {\r\n            if (err.response) {\r\n                if (err.response.status == 401)\r\n                    alert(\"Chưa đăng nhập hoặc token hết hạn\");\r\n                else if (err.response.status == 403)\r\n                    alert(\"Bạn ko có quyền\");\r\n            } else if (err.request) {\r\n                alert(JSON.stringify(err.request));\r\n            } else if (err.message) {\r\n                alert(JSON.stringify(err.message));\r\n            }\r\n        }\r\n    }\r\n}\r\n  /*\r\nimport TumLum from '@/TumLum';\r\n*/","import axios from 'axios';\r\n\r\nconst fetchClient = () => {\r\n  const defaultOptions = {\r\n    baseURL: '',\r\n    method: 'get',\r\n    headers: {\r\n      //'Content-Type': 'application/json',\r\n      'Content-Type': 'application/json;charset=utf-8'\r\n    },\r\n  };\r\n\r\n  // Create instance\r\n  let instance = axios.create(defaultOptions);\r\n\r\n  // Set the AUTH token for any request\r\n  instance.interceptors.request.use(function (config) {\r\n    const token = localStorage.getItem('token');\r\n    config.headers.Authorization =  token ? `Bearer ${token}` : '';\r\n    return config;\r\n  });\r\n\r\n  return instance;\r\n};\r\n\r\nexport default fetchClient();"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","Lds","adding","isEditing","on","onSave1","$event","stopPropagation","preventDefault","onSave","apply","arguments","ref","items","fields","currentPage","perPage","filter","filterOn","sortBy","sortDesc","sortDirection","onFiltered","scopedSlots","_u","key","fn","value","item","field","sel","pri","_e","directives","name","rawName","expression","class","errors","has","model","callback","$$v","$set","row","staticClass","OnCancel","isAdded","OnEdit","OnDel","data","columns","pageOptions","getLastPage","totalRows","OnAdd","infoModal","id","title","resetInfoModal","content","staticRenderFns","Vue","classes","fieldsBagName","props","mixins","formatter","sortable","thClass","tdClass","thStyle","width","text","lastPage","ds","Mons","computed","sortOptions","map","mounted","methods","UpdateRow","DonGia","SoLg","Tien","onSoLgChange","onMonChange","r","delRow","doCancel","Id","Name","count","info","index","button","filteredItems","toast","msg","variant","solid","GetAll","fetchClient","then","catch","TumLum","LdsMon","UpdateList","list","component","anObject","module","exports","that","result","hasIndices","global","ignoreCase","multiline","dotAll","unicode","sticky","call","hasOwn","isPrototypeOf","regExpFlags","RegExpPrototype","RegExp","prototype","R","flags","undefined","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","length","toAbsoluteIndex","toIntegerOrInfinity","lengthOfArrayLike","toObject","arraySpeciesCreate","createProperty","TypeError","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","actualStart","argumentsLength","nativeKeys","fails","FAILS_ON_PRIMITIVES","stat","keys","it","PROPER_FUNCTION_NAME","defineBuiltIn","$toString","getRegExpFlags","TO_STRING","n$ToString","NOT_GENERIC","source","INCORRECT_NAME","pattern","unsafe","ds1","created","SetPri","SetDs","forEach","x","JSON","parse","stringify","Note","push","createId","Add","Find","findIndex","Update","temp","Object","Del","XuLyErr","err","code","status","response","message","alert","request","defaultOptions","baseURL","method","headers","instance","axios","interceptors","use","config","token","localStorage","getItem","Authorization"],"sourceRoot":""}