(self["webpackChunkvue_start_1"]=self["webpackChunkvue_start_1"]||[]).push([[2619],{42619:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("raw-loader",{attrs:{mytxt:r(16196).Z}}),e._v(" "+e._s(e.items)+" "),n("form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.onSave.apply(null,arguments)}}},[n("b-table",{ref:"mytable",attrs:{items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"filter-included-fields":e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,stacked:"md","show-empty":"",small:"",fixed:"",outlined:"",bordered:""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell()",fn:function(t){var r=t.value,i=t.item,s=t.field.key;return[e.sel[e.pri]!=i[e.pri]?[0!=i[e.pri]?[(e.pri,[e._v(" "+e._s(r)+" ")])]:e._e()]:e._e(),e.sel[e.pri]==i[e.pri]||0==i[e.pri]?[s==e.pri?[n("span",[e._v(e._s(r))])]:e._e(),"Username"==s?[n("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"ko-hop-le":e.errors.has(s)},attrs:{autocomplete:"off",name:s,placeholder:""},model:{value:i[s],callback:function(t){e.$set(i,s,t)},expression:"item[key]"}})]:e._e(),"Password"==s?[n("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"ko-hop-le":e.errors.has(s)},attrs:{autocomplete:"off",name:s,placeholder:""},model:{value:i[s],callback:function(t){e.$set(i,s,t)},expression:"item[key]"}})]:e._e(),"Roles"==s?[n("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{danger:e.errors.has(s)},attrs:{multiple:"",name:s,reduce:function(e){return e.id},options:[{label:"Admin",id:"Admin"},{label:"ChuQuan",id:"ChuQuan"},{label:"NhanVien",id:"NhanVien"},{label:"User",id:"User"}],"has-error":e.errors.has(s)},model:{value:i[s],callback:function(t){e.$set(i,s,t)},expression:"item[key]"}})]:e._e()]:e._e()]}},{key:"cell(cmd)",fn:function(t){return[0==t.item[e.pri]?[n("b-button",{staticClass:"mr-1",attrs:{variant:"outline",size:"sm"},on:{click:function(r){return e.onSave(t.item)}}},[n("b-icon-hand-thumbs-up")],1),n("b-button",{staticClass:"mr-1",attrs:{variant:"outline",size:"sm"},on:{click:function(r){return e.OnCancel(t.item)}}},[n("b-icon-file-x")],1)]:[e.sel[e.pri]!=t.item[e.pri]?n("b-button",{staticClass:"mr-1",attrs:{variant:"outline",disabled:1==e.isAdded(),size:"sm"},on:{click:function(r){return e.OnEdit(t.item)}}},[n("b-icon-pencil-square")],1):e._e(),e.sel[e.pri]!=t.item[e.pri]?n("b-button",{staticClass:"mr-1",attrs:{variant:"outline",disabled:1==e.isAdded(),size:"sm"},on:{click:function(r){return e.OnDel(t.item)}}},[n("b-icon-trash")],1):e._e(),e.sel[e.pri]==t.item[e.pri]?n("b-button",{staticClass:"mr-1",attrs:{variant:"outline",size:"sm"},on:{click:function(r){return e.onSave(t.item)}}},[n("b-icon-hand-thumbs-up")],1):e._e(),e.sel[e.pri]==t.item[e.pri]?n("b-button",{staticClass:"mr-1",attrs:{variant:"outline",size:"sm"},on:{click:function(r){return e.OnCancel(t.item)}}},[n("b-icon-file-x")],1):e._e()]]}},{key:"bottom-row",fn:function(t){return[n("td",{attrs:{colspan:t.columns}},[n("b-row",[n("b-col",{staticClass:"my-1",attrs:{sm:"6"}},[n("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[n("b-input-group",{attrs:{size:"sm"}},[n("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),n("b-input-group-append",[n("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Clear")])],1)],1)],1)],1),n("b-col",{staticClass:"my-1",attrs:{sm:"6"}},[n("b-form-group",{staticClass:"mb-0",attrs:{label:"Per page","label-for":"per-page-select","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm"}},[n("b-form-select",{attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),n("b-col",{staticClass:"my-1 text-right",attrs:{sm:"6"}},[e._v(" page :"+e._s(e.currentPage)+" / "+e._s(e.getLastPage(e.totalRows))+" of "+e._s(e.totalRows)+" "),n("b-button",{attrs:{disabled:1==e.adding||1==e.isEditing(),size:"sm"},on:{click:e.OnAdd}},[n("b",[e._v("Add")])])],1),n("b-col",{staticClass:"my-1",attrs:{sm:"6"}},[n("b-pagination",{staticClass:"my-0",attrs:{disabled:1==e.adding||1==e.isEditing(),"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)]}}])})],1),n("b-modal",{attrs:{id:e.infoModal.id,title:e.infoModal.title,"ok-only":""},on:{hide:e.resetInfoModal}},[n("pre",[e._v(e._s(e.infoModal.content))])])],1)},i=[],s=(r(21249),r(57327),r(41539),r(54747),r(38862),r(34553),r(40561),r(12954)),a=r(20144),l=(r(30381),r(19938)),o=r.n(l);a["default"].use(s.ZP,{classes:!0,fieldsBagName:"veeFields"}),a["default"].component("v-select",o());var d={data:function(){return{items:[],fields:[{key:"Id",sortable:!0,thClass:"text-center",tdClass:"text-center align-middle",thStyle:{width:"8%"}},{key:"Username",sortable:!0,thClass:"text-center",tdClass:"align-middle",thStyle:{width:"20%"}},{key:"Password",sortable:!0,thClass:"text-center",tdClass:"align-middle",thStyle:{width:"10%"}},{key:"Roles",sortable:!0,thClass:"text-center",tdClass:"align-middle",thStyle:{width:"50%"}},{key:"cmd",class:"text-center",thClass:"text-center",tdClass:"align-middle",thStyle:{width:"12%"}}],totalRows:1,currentPage:1,perPage:3,pageOptions:[3,5,10,15,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],infoModal:{id:"info-modal",title:"",content:""},sel:{},pri:"Id",adding:!1,lastPage:0}},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},mounted:function(){var e=[];e.push({Id:1,Username:"admin",Password:"123",Roles:["Admin","ChuQuan"]}),this.items=e,this.totalRows=this.items.length,this.lastPage=this.getLastPage(this.totalRows)},methods:{createId:function(){var e=this,t=0;return this.items.forEach((function(r){r[e.pri]>t&&(t=r[e.pri])})),t+1},onSave:function(e){var t=this;this.$validator.validateAll().then((function(r){if(r){var n=JSON.parse(JSON.stringify(e));if(0==n[t.pri]){var i=t.items.findIndex((function(e){return e[t.pri]==n[t.pri]}));n[t.pri]=t.createId(),t.$set(t.items,i,n),t.adding=!1,t.$refs.mytable.refresh()}else{var s=t.items.findIndex((function(e){return e[t.pri]==n[t.pri]}));t.$set(t.items,s,n),t.sel={}}}else t.toast("Không hợp lệ")}))},OnDel:function(e){this.delRow(e)},delRow:function(e){var t=this,r=e[this.pri],n=this.items.findIndex((function(e){return e[t.pri]==r}));this.items.splice(n,1),this.totalRows=this.items.length,this.lastPage=this.getLastPage(this.totalRows)},doCancel:function(e){for(var t in e)e[t]!=this.sel[t]&&(e[t]=this.sel[t])},isAdded:function(){var e=this,t=!1;return this.items.forEach((function(r){0==r[e.pri]&&(t=!0)})),t},OnEdit:function(e){"{}"==JSON.stringify(this.sel)&&(this.sel=JSON.parse(JSON.stringify(e)))},OnCancel:function(e){var t=this;if(0==e[this.pri]){var r=this.items.findIndex((function(r){return r[t.pri]==e[t.pri]}));this.items.splice(r,1),this.adding=!1,this.$refs.mytable.refresh()}else this.doCancel(e),this.sel={}},OnAdd:function(){var e={Id:0,Username:"sfsf",Password:"sfsf",Roles:"User"};this.items.unshift(e),this.adding=!0,this.currentPage=1,this.totalRows=this.items.length,this.$refs.mytable.refresh()},isEditing:function(){return"{}"!=JSON.stringify(this.sel)},getLastPage:function(e){var t=this.perPage,r=e%t;return 0==r?e/t:(e-r)/t+1},info:function(e,t,r){this.infoModal.title="Row index: ".concat(t),this.infoModal.content=JSON.stringify(e,null,2),this.$root.$emit("bv::show::modal",this.infoModal.id,r)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},toast:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$bvToast.toast(e,{title:"Information",variant:t,solid:!0})}}},c=d,m=r(1001),u=(0,m.Z)(c,n,i,!1,null,null,null),f=u.exports},18533:function(e,t,r){"use strict";var n=r(42092).forEach,i=r(9341),s=i("forEach");e.exports=s?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},9341:function(e,t,r){"use strict";var n=r(47293);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},86135:function(e,t,r){"use strict";var n=r(34948),i=r(3070),s=r(79114);e.exports=function(e,t,r){var a=n(t);a in e?i.f(e,a,s(0,r)):e[a]=r}},21249:function(e,t,r){"use strict";var n=r(82109),i=r(42092).map,s=r(81194),a=s("map");n({target:"Array",proto:!0,forced:!a},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},40561:function(e,t,r){"use strict";var n=r(82109),i=r(17854),s=r(51400),a=r(19303),l=r(26244),o=r(47908),d=r(65417),c=r(86135),m=r(81194),u=m("splice"),f=i.TypeError,p=Math.max,h=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var r,n,i,m,u,v,y=o(this),x=l(y),w=s(e,x),k=arguments.length;if(0===k?r=n=0:1===k?(r=0,n=x-w):(r=k-2,n=h(p(a(t),0),x-w)),x+r-n>b)throw f(g);for(i=d(y,n),m=0;m<n;m++)u=w+m,u in y&&c(i,m,y[u]);if(i.length=n,r<n){for(m=w;m<x-n;m++)u=m+n,v=m+r,u in y?y[v]=y[u]:delete y[v];for(m=x;m>x-n+r;m--)delete y[m-1]}else if(r>n)for(m=x-n;m>w;m--)u=m+n-1,v=m+r-1,u in y?y[v]=y[u]:delete y[v];for(m=0;m<r;m++)y[m+w]=arguments[m+2];return y.length=x-n+r,i}})},54747:function(e,t,r){var n=r(17854),i=r(48324),s=r(98509),a=r(18533),l=r(68880),o=function(e){if(e&&e.forEach!==a)try{l(e,"forEach",a)}catch(t){e.forEach=a}};for(var d in i)i[d]&&o(n[d]&&n[d].prototype);o(s)},16196:function(e,t){"use strict";t["Z"]='<template>\r\n    <b-container fluid>\r\n      <raw-loader :mytxt="require(\'!raw-loader!./Users.vue\').default"></raw-loader>\r\n      {{ items }}\r\n      <form @submit.stop.prevent="onSave">\r\n        <b-table ref="mytable" :items="items" :fields="fields" :current-page="currentPage" :per-page="perPage"\r\n          :filter="filter" :filter-included-fields="filterOn" :sort-by.sync="sortBy" :sort-desc.sync="sortDesc"\r\n          :sort-direction="sortDirection" stacked="md" show-empty small fixed outlined bordered @filtered="onFiltered">\r\n  \r\n          <template v-slot:cell()="{ value, item, field: { key } }">\r\n            <template v-if="sel[pri] != item[pri]">\r\n              <template v-if="item[pri] != 0">\r\n                <template v-if="key == pri">\r\n                  {{ value }}\r\n                </template>\r\n                \x3c!-- <template v-if="key == \'name\'">\r\n                  {{ value }}\r\n                </template> --\x3e\r\n                <template v-else >\r\n                  {{ value }}\r\n                </template>\r\n              </template>\r\n            </template>\r\n            <template v-if="(sel[pri] == item[pri] || item[pri] == 0)">\r\n              <template v-if="key == pri">\r\n                <span>{{ value }}</span>\r\n              </template>\r\n              <template v-if="key == \'Username\'">\r\n                <b-form-input autocomplete="off" v-model="item[key]" :name="key" v-validate="\'required\'" placeholder=""\r\n                  :class="{ \'ko-hop-le\': errors.has(key) }">\r\n                </b-form-input>\r\n              </template>\r\n              <template v-if="key == \'Password\'">\r\n                <b-form-input autocomplete="off" v-model="item[key]" :name="key" v-validate="\'required\'" placeholder=""\r\n                  :class="{ \'ko-hop-le\': errors.has(key) }">\r\n                </b-form-input>\r\n              </template>\r\n              <template v-if="key == \'Roles\'">\r\n                <v-select multiple v-model="item[key]" v-validate="\'required\'" :name="key" :reduce="(option) => option.id"\r\n                    :options="[\r\n                    { label: \'Admin\', id: \'Admin\' },\r\n                    { label: \'ChuQuan\', id: \'ChuQuan\' },\r\n                    { label: \'NhanVien\', id: \'NhanVien\' },\r\n                    { label: \'User\', id: \'User\' }\r\n                    ]" :has-error="errors.has(key)" :class="{ danger: errors.has(key) }" />\r\n              </template>\r\n\r\n\r\n              \x3c!-- <v-select multiple v-model="selected" :options="[\'Canada\',\'United States\']" /> --\x3e\r\n\r\n              \r\n            </template>\r\n          </template>\r\n  \r\n          <template #cell(cmd)="row">\r\n            <template v-if="row.item[pri] == 0">\r\n              <b-button variant="outline" class="mr-1" size="sm" @click="onSave(row.item)">\r\n                <b-icon-hand-thumbs-up></b-icon-hand-thumbs-up>\r\n              </b-button>\r\n              <b-button variant="outline" class="mr-1" size="sm" @click="OnCancel(row.item)">\r\n                <b-icon-file-x></b-icon-file-x>\r\n              </b-button>\r\n            </template>\r\n            <template v-else>\r\n              <b-button variant="outline" :disabled="isAdded() == true" class="mr-1" v-if="sel[pri] != row.item[pri]" size="sm"\r\n                @click="OnEdit(row.item)">\r\n                <b-icon-pencil-square></b-icon-pencil-square>\r\n              </b-button>\r\n              <b-button variant="outline" :disabled="isAdded() == true" class="mr-1" v-if="sel[pri] != row.item[pri]" size="sm"\r\n                @click="OnDel(row.item)">\r\n                <b-icon-trash></b-icon-trash>\r\n              </b-button>\r\n              <b-button variant="outline" class="mr-1" v-if="sel[pri] == row.item[pri]" size="sm" @click="onSave(row.item)">\r\n                <b-icon-hand-thumbs-up></b-icon-hand-thumbs-up>\r\n              </b-button>\r\n              <b-button variant="outline" class="mr-1" v-if="sel[pri] == row.item[pri]" size="sm" @click="OnCancel(row.item)">\r\n                <b-icon-file-x></b-icon-file-x>\r\n              </b-button>\r\n            </template>\r\n          </template>\r\n  \r\n          <template #bottom-row="data">\r\n            <td :colspan="data.columns">\r\n              <b-row>\r\n                <b-col sm="6" class="my-1">\r\n                  <b-form-group label="Filter" label-for="filter-input" label-cols-sm="3" label-align-sm="right"\r\n                    label-size="sm" class="mb-0">\r\n                    <b-input-group size="sm">\r\n                      <b-form-input id="filter-input" v-model="filter" type="search"\r\n                        placeholder="Type to Search"></b-form-input>\r\n                      <b-input-group-append>\r\n                        <b-button :disabled="!filter" @click="filter = \'\'">Clear</b-button>\r\n                      </b-input-group-append>\r\n                    </b-input-group>\r\n                  </b-form-group>\r\n                </b-col>\r\n                <b-col sm="6" class="my-1">\r\n                  <b-form-group label="Per page" label-for="per-page-select" label-cols-sm="6" label-cols-md="4"\r\n                    label-cols-lg="3" label-align-sm="right" label-size="sm" class="mb-0">\r\n                    <b-form-select id="per-page-select" v-model="perPage" :options="pageOptions"\r\n                      size="sm"></b-form-select>\r\n                  </b-form-group>\r\n                </b-col>\r\n                <b-col sm="6" class="my-1 text-right">\r\n                  page :{{ currentPage }} / {{ getLastPage(totalRows) }} of {{ totalRows }}\r\n                  <b-button :disabled="adding == true || isEditing() == true" @click="OnAdd"\r\n                    size="sm"><b>Add</b></b-button>\r\n                </b-col>\r\n                <b-col sm="6" class="my-1">\r\n                  <b-pagination :disabled=" adding == true || isEditing() == true " v-model="currentPage" :total-rows="totalRows" :per-page="perPage" align="fill" size="sm"\r\n                    class="my-0"></b-pagination>\r\n                </b-col>\r\n              </b-row>\r\n  \r\n            </td>\r\n          </template>\r\n  \r\n        </b-table>\r\n      </form>\r\n      \x3c!-- Info modal --\x3e\r\n      <b-modal :id="infoModal.id" :title="infoModal.title" ok-only @hide="resetInfoModal">\r\n        <pre>{{ infoModal.content }}</pre>\r\n      </b-modal>\r\n    </b-container>\r\n  </template>\r\n  \r\n  <script>\r\n  \r\n  import VeeValidate from "vee-validate";\r\n  import Vue from "vue";\r\n  Vue.use(VeeValidate, {\r\n    classes: true,\r\n    fieldsBagName: \'veeFields\'\r\n  });\r\n  \r\n  import moment from "moment";\r\n  \r\n  import vSelect from "vue-select";\r\n  Vue.component("v-select", vSelect);\r\n  //import "vue-select/dist/vue-select.css";\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        items: [\r\n        ],\r\n        fields: [\r\n          {\r\n            key: \'Id\',\r\n            sortable: true,\r\n            thClass: \'text-center\',\r\n            tdClass: \'text-center align-middle\',\r\n            //tdClass: \'align-middle\'\r\n            thStyle: { width: "8%" },\r\n          },\r\n          { key: \'Username\', sortable: true, thClass: \'text-center\', tdClass: \'align-middle\', thStyle: { width: "20%" }},\r\n          { key: \'Password\', sortable: true, thClass: \'text-center\', tdClass: \'align-middle\', thStyle: { width: "10%" }},\r\n          { key: \'Roles\', sortable: true, thClass: \'text-center\', tdClass: \'align-middle\', thStyle: { width: "50%" }},\r\n          {\r\n            key: \'cmd\',\r\n            class: \'text-center\',\r\n            thClass: \'text-center\',\r\n            tdClass: \'align-middle\',\r\n            thStyle: { width: "12%" }\r\n          }\r\n        ],\r\n        totalRows: 1,\r\n        currentPage: 1,\r\n        perPage: 3,\r\n        pageOptions: [3,5, 10, 15, { value: 100, text: "Show a lot" }],\r\n        sortBy: \'\',\r\n        sortDesc: false,\r\n        sortDirection: \'asc\',\r\n        filter: null,\r\n        filterOn: [],\r\n        infoModal: {\r\n          id: \'info-modal\',\r\n          title: \'\',\r\n          content: \'\'\r\n        },\r\n  \r\n        sel: {},\r\n        pri: \'Id\',\r\n        adding: false,\r\n        lastPage:0,\r\n  \r\n      }\r\n    },\r\n    computed: {\r\n      sortOptions() {\r\n        // Create an options list from our fields\r\n        return this.fields\r\n          .filter(f => f.sortable)\r\n          .map(f => {\r\n            return { text: f.label, value: f.key }\r\n          })\r\n      }\r\n    },\r\n    mounted() {\r\n      let items = [\r\n      ];\r\n      items.push(\r\n        {Id:1,Username:\'admin\',Password:\'123\',Roles:["Admin","ChuQuan"]}\r\n      )\r\n    //   for(var i=1;i<6;i++){\r\n    //     items.push({\r\n    //       id:i,\r\n    //       name:`thuc ${i}`\r\n    //     })\r\n    //   }\r\n      this.items = items;\r\n      this.totalRows = this.items.length;\r\n      this.lastPage=this.getLastPage(this.totalRows);\r\n    },\r\n    methods: {\r\n      createId(){\r\n        let max=0;\r\n        this.items.forEach(x=>{\r\n          if(x[this.pri] > max){\r\n            max=x[this.pri];\r\n          }\r\n        })\r\n        return max+1;\r\n      },\r\n      onSave(item) {\r\n        this.$validator.validateAll().then((result) => {\r\n          if (!result) {\r\n            this.toast("Không hợp lệ");\r\n            return;\r\n          }\r\n          let r = JSON.parse(JSON.stringify(item));\r\n          if(r[this.pri]==0){\r\n            let index = this.items.findIndex(x => x[this.pri] == r[this.pri]);\r\n            r[this.pri] = this.createId();//new Date().getTime();\r\n            this.$set(this.items, index, r);\r\n            this.adding=false;\r\n            this.$refs.mytable.refresh();\r\n          }else{\r\n            let index = this.items.findIndex(x => x[this.pri] == r[this.pri]);\r\n            this.$set(this.items, index, r);\r\n            this.sel={};\r\n          }\r\n        });\r\n      },\r\n      OnDel(item) {\r\n        this.delRow(item);\r\n      },\r\n      delRow(item) {\r\n        let id = item[this.pri];\r\n        let index = this.items.findIndex(x => x[this.pri] == id);\r\n        this.items.splice(index, 1);\r\n        this.totalRows = this.items.length;\r\n        this.lastPage = this.getLastPage(this.totalRows);\r\n      },\r\n      doCancel(item) {\r\n        for (let key in item) {\r\n          if (item[key] != this.sel[key]) {\r\n            item[key] = this.sel[key]\r\n          }\r\n        }\r\n      },\r\n      isAdded() {\r\n        let kq = false;\r\n        this.items.forEach(x => {\r\n          if (x[this.pri] == 0) kq = true;\r\n        })\r\n        return kq;\r\n      },\r\n      OnEdit(item) {\r\n        if (JSON.stringify(this.sel) != "{}") return;\r\n        this.sel = JSON.parse(JSON.stringify(item));\r\n      },\r\n      OnCancel(item) {\r\n        if (item[this.pri] == 0) {\r\n          let index = this.items.findIndex(x => x[this.pri] == item[this.pri]);\r\n          this.items.splice(index, 1);\r\n          this.adding = false;\r\n          this.$refs.mytable.refresh();\r\n        } else {\r\n          this.doCancel(item);\r\n          this.sel = {};\r\n        }\r\n      },\r\n      OnAdd() {\r\n        // let r = {\r\n        //   id: 0,\r\n        //   name: \'Thức\',\r\n        // }\r\n        let r={Id:0,Username:\'sfsf\',Password:\'sfsf\',Roles:\'User\'};\r\n        this.items.unshift(r);\r\n        this.adding = true;\r\n        this.currentPage=1;\r\n        this.totalRows=this.items.length;\r\n        this.$refs.mytable.refresh();\r\n      },\r\n      isEditing() {\r\n        return JSON.stringify(this.sel) != "{}"\r\n      },\r\n      getLastPage(count) {\r\n        let pageSize = this.perPage;//this.tabulator.getPageSize();\r\n        let du = count % pageSize;\r\n        return du == 0 ? count / pageSize : (count - du) / pageSize + 1;\r\n      },\r\n      info(item, index, button) {\r\n        this.infoModal.title = `Row index: ${index}`\r\n        this.infoModal.content = JSON.stringify(item, null, 2)\r\n        this.$root.$emit(\'bv::show::modal\', this.infoModal.id, button)\r\n      },\r\n      resetInfoModal() {\r\n        this.infoModal.title = \'\'\r\n        this.infoModal.content = \'\'\r\n      },\r\n      onFiltered(filteredItems) {\r\n        this.totalRows = filteredItems.length\r\n        this.currentPage = 1\r\n      },\r\n      toast(msg, variant = null) {\r\n        this.$bvToast.toast(msg, {\r\n          title: `Information`,\r\n          variant: variant,\r\n          solid: true,\r\n        });\r\n      },\r\n  \r\n    }\r\n  }\r\n  <\/script>\r\n'}}]);
//# sourceMappingURL=2619-legacy.228a9c9b.js.map