{"version":3,"file":"js/3308.a47d1ec8.js","mappings":"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","sources":["webpack://vue_start_1/./src/views/Konva/KonvaVueGroup2.vue?6837","webpack://vue_start_1/src/views/Konva/KonvaVueGroup2.vue","webpack://vue_start_1/./src/views/Konva/KonvaVueGroup2.vue?927d","webpack://vue_start_1/./src/views/Konva/KonvaVueGroup2.vue?ecfd","webpack://vue_start_1/./src/views/Konva/KonvaVueGroup2.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('raw-loader',{attrs:{\"mytxt\":require('!raw-loader!./KonvaVueGroup2.vue').default}}),_c('h1',[_vm._v(\"This is KonvaVue\")]),_c('b-row',[_c('b-col',{staticClass:\"border-right\",attrs:{\"sm\":\"3\"}},[_c('div',{staticClass:\"mb-1\"}),_c('div',{attrs:{\"id\":\"stage-parent\"}},[_c('div',{staticClass:\"border\",attrs:{\"id\":\"container\"}},[_c('v-stage',{ref:\"stage\",attrs:{\"config\":_vm.configKonva},on:{\"click\":_vm.onStageClick,\"mousemove\":_vm.onStageMouseMove,\"mouseenter\":_vm.onStageMouseenter,\"mouseleave\":_vm.onStageMouseleave}},[_c('v-layer',{ref:\"layer\"},[_c('v-group',{ref:\"group3\",attrs:{\"config\":{\n                        x: 900,\n                        y: 55,\n                        draggable: true\n                      }},on:{\"click\":_vm.onGroup3Click,\"dragend\":_vm.onGroup3Dragend,\"mousemove\":_vm.onGroup3move}},[_c('v-rect',{ref:\"main3\",attrs:{\"config\":{\n                          x: 0,\n                          y: 0,\n                          width: 500,\n                          height: 600,\n                          fill: 'white',\n                          stroke:'blue',\n                          //shadowBlur: 10,\n                          name:'main'\n                        }}}),_c('v-circle',{ref:\"circle3\",attrs:{\"config\":{\n                        x: 100,\n                        y: 100,\n                        dx:2,\n                        dy:2,\n                        radius: 30,\n                        fill: 'yellow',\n                        stroke: 'black',\n                        strokeWidth: 5,\n                        draggable:true,\n                        visible:true,\n                        \n                      }}}),_c('v-rect',{ref:\"left3\",attrs:{\"config\":{\n                          x: 10,\n                          y: 10,\n                          dx:2,\n                          dy:2,\n                          width: 50,\n                          height: 50,\n                          fill: 'green',\n                          stroke:'blue',\n                          //shadowBlur: 10,\n                          draggable:true,\n                          name:'left'\n                        }}}),_c('v-rect',{ref:\"right3\",attrs:{\"config\":{\n                          x: 500-60,\n                          y: 600-60,\n                          width: 50,\n                          height: 50,\n                          fill: 'green',\n                          stroke:'blue',\n                          //shadowBlur: 10,\n                          draggable:true,\n                          name:'right'\n                        }}})],1)],1)],1)],1)])]),_c('b-col',{attrs:{\"sm\":\"9\"}},[_vm._v(\" \"+_vm._s(_vm.msg)),_c('br')])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <raw-loader :mytxt=\" require('!raw-loader!./KonvaVueGroup2.vue').default \"></raw-loader> \r\n    <h1>This is KonvaVue</h1>\r\n    <b-row>\r\n      <b-col sm=\"3\" class=\"border-right\">\r\n        <div class=\"mb-1\">\r\n        </div>\r\n          <div id=\"stage-parent\">\r\n            <div id=\"container\" class=\"border\">\r\n                <v-stage ref=\"stage\"\r\n                    @click=\"onStageClick\"\r\n                    @mousemove=\"onStageMouseMove\" \r\n                    @mouseenter=\"onStageMouseenter\"\r\n                    @mouseleave=\"onStageMouseleave\"\r\n                    :config=\"configKonva\" >\r\n                    <v-layer ref=\"layer\">\r\n\r\n                      <v-group ref=\"group3\"\r\n                        @click=\"onGroup3Click\"\r\n                        @dragend=\"onGroup3Dragend\"\r\n                        @mousemove=\"onGroup3move\"\r\n                        :config=\"{\r\n                          x: 900,\r\n                          y: 55,\r\n                          draggable: true\r\n                        }\"\r\n                      >\r\n                        <v-rect ref=\"main3\"\r\n                          :config=\"{\r\n                            x: 0,\r\n                            y: 0,\r\n                            width: 500,\r\n                            height: 600,\r\n                            fill: 'white',\r\n                            stroke:'blue',\r\n                            //shadowBlur: 10,\r\n                            name:'main'\r\n                          }\"\r\n                        />\r\n                        <v-circle ref=\"circle3\" :config=\"{\r\n                          x: 100,\r\n                          y: 100,\r\n                          dx:2,\r\n                          dy:2,\r\n                          radius: 30,\r\n                          fill: 'yellow',\r\n                          stroke: 'black',\r\n                          strokeWidth: 5,\r\n                          draggable:true,\r\n                          visible:true,\r\n                          \r\n                        }\">\r\n                        </v-circle>\r\n\r\n\r\n                        <v-rect ref=\"left3\"\r\n                          :config=\"{\r\n                            x: 10,\r\n                            y: 10,\r\n                            dx:2,\r\n                            dy:2,\r\n                            width: 50,\r\n                            height: 50,\r\n                            fill: 'green',\r\n                            stroke:'blue',\r\n                            //shadowBlur: 10,\r\n                            draggable:true,\r\n                            name:'left'\r\n                          }\"\r\n                        />\r\n                        <v-rect ref=\"right3\"\r\n                          :config=\"{\r\n                            x: 500-60,\r\n                            y: 600-60,\r\n                            width: 50,\r\n                            height: 50,\r\n                            fill: 'green',\r\n                            stroke:'blue',\r\n                            //shadowBlur: 10,\r\n                            draggable:true,\r\n                            name:'right'\r\n                          }\"\r\n                        />\r\n                      </v-group>\r\n                    </v-layer>\r\n                </v-stage>\r\n            </div>\r\n          </div>\r\n\r\n      </b-col>\r\n      <b-col sm=\"9\">\r\n        {{msg}}<br>\r\n      </b-col>\r\n    </b-row>\r\n  </div>\r\n</template>\r\n<script>\r\nvar sceneWidth = 1500;\r\nvar sceneHeight = 1000;\r\nvar stage=null;\r\nvar layer=null;\r\nexport default {\r\n  name: 'Tpl',\r\n  components: {\r\n  },\r\n  computed: {\r\n  },\r\n  data(){\r\n    return{\r\n        msg:\"hello\",\r\n        configKonva: {\r\n          width: sceneWidth,\r\n          height: sceneHeight\r\n        },\r\n        configCircle: {\r\n          x: sceneWidth/2,\r\n          y: sceneHeight/2,\r\n          radius: 90,\r\n          fill: \"yellow\",\r\n          stroke: \"black\",\r\n          strokeWidth: 5,\r\n          draggable:true,\r\n          visible:false,\r\n        },\r\n        arColor:['blue','red','yellow'],\r\n    }\r\n  },\r\n  mounted(){\r\n    this.$nextTick(function(){\r\n      layer=this.$refs.layer.getNode();\r\n      stage=this.$refs.stage.getNode();\r\n      window.addEventListener(\"resize\", this.fitStageIntoParentContainer);\r\n      this.fitStageIntoParentContainer();\r\n      let animate=this.createAnimate3();\r\n      animate.start();\r\n    })\r\n  },\r\n  created(){\r\n  },\r\n  methods:{\r\n\r\n    onGroup3Dragend(e){\r\n      this.msg={\r\n        p:{x:Math.floor(e.target.x()),y:Math.floor(e.target.y())}\r\n      }\r\n    },\r\n    onGroup3Click(){\r\n      let p1=this.myGetMouse();\r\n      let g=this.$refs.group3.getNode();\r\n      let p2={x:g.x(),y:g.y()};\r\n      let p3={\r\n        x:p1.x-p2.x,\r\n        y:p1.y-p2.y\r\n      }\r\n      this.msg={\r\n        p3:p3\r\n      }\r\n      let l=this.$refs.circle3.getNode().clone();\r\n      l.x(p3.x);\r\n      l.y(p3.y);\r\n      l.name('circle3');\r\n      l.setAttr(\"dx\",2);\r\n      l.setAttr(\"dy\",2);\r\n      g.add(l);\r\n      let len=layer.find('.circle3').length;\r\n      l.fill(this.arColor[len%3]);\r\n\r\n    },   \r\n    onGroup3move(e){\r\n      let p1=this.myGetMouse();\r\n      let g=this.$refs.group3.getNode();\r\n      let p2={x:g.x(),y:g.y()};\r\n      let p3={\r\n        x:p1.x-p2.x,\r\n        y:p1.y-p2.y\r\n      }\r\n      this.msg={\r\n        p3:p3\r\n      }\r\n    },    \r\n    circle3Move(s){\r\n      let dx=s.getAttr(\"dx\");\r\n      let dy=s.getAttr(\"dy\");\r\n      s.x( s.x() + dx );\r\n      s.y( s.y() + dy );\r\n    },\r\n    circle3ChamDung(s){\r\n      let m=this.$refs.main3.getNode();\r\n      let w=m.width();\r\n      let h=m.height();\r\n      let d= Math.abs(w-(s.x()+s.radius()));\r\n      return (s.x() < 0 || d < s.radius());\r\n    },\r\n    circle3ChamNgang(s){\r\n      let m=this.$refs.main3.getNode();\r\n      let w=m.width();\r\n      let h=m.height();\r\n      let d=h-(s.y()+s.radius());\r\n      return (s.y() < 0 || d<s.radius());\r\n    },\r\n    createAnimate3(){\r\n      let that=this;\r\n      var anim = new Konva.Animation(function (frame) {\r\n        let list=layer.find('.circle3');\r\n        //that.msg=list.length;\r\n        list.forEach((x)=>{\r\n          that.circle3Move(x);\r\n          if(that.circle3ChamDung(x)==true){\r\n            let dx=x.getAttr(\"dx\");\r\n            x.setAttr(\"dx\",(-1)*dx);\r\n            that.circle3Move(x);\r\n          }\r\n          if(that.circle3ChamNgang(x)==true){\r\n            let dy=x.getAttr(\"dy\");\r\n            x.setAttr(\"dy\",(-1)*dy);\r\n            that.circle3Move(x);\r\n          }\r\n\r\n        })\r\n      }, layer);\r\n      return anim;\r\n    },\r\n\r\n\r\n\r\n    onStageClick(e){\r\n    },\r\n    onStageMouseMove(e){\r\n    },\r\n    onStageMouseenter(e){\r\n    },\r\n    onStageMouseleave(e){\r\n    },\r\n    myGetMouse() {\r\n      let scale=stage.scale().x;\r\n      var mousePos = stage.getPointerPosition();\r\n      var x = mousePos.x;\r\n      var y = mousePos.y;\r\n      var xx = Math.round(x / scale);\r\n      var yy = Math.round(y / scale);\r\n      return { x: xx, y: yy };\r\n    },\r\n    fitStageIntoParentContainer() {\r\n      var container = document.querySelector('#stage-parent');\r\n      var containerWidth = container.offsetWidth;\r\n      var scale = containerWidth / sceneWidth;\r\n      stage.width(sceneWidth * scale);\r\n      stage.height(sceneHeight * scale);\r\n      stage.scale({ x: scale, y: scale });\r\n      this.configKonva.width = sceneWidth * scale;\r\n      this.configKonva.height = sceneHeight * scale;\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KonvaVueGroup2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KonvaVueGroup2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./KonvaVueGroup2.vue?vue&type=template&id=ab5aa9ee&scoped=true&\"\nimport script from \"./KonvaVueGroup2.vue?vue&type=script&lang=js&\"\nexport * from \"./KonvaVueGroup2.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ab5aa9ee\",\n  null\n  \n)\n\nexport default component.exports","export default \"<template>\\r\\n  <div>\\r\\n    <raw-loader :mytxt=\\\" require('!raw-loader!./KonvaVueGroup2.vue').default \\\"></raw-loader> \\r\\n    <h1>This is KonvaVue</h1>\\r\\n    <b-row>\\r\\n      <b-col sm=\\\"3\\\" class=\\\"border-right\\\">\\r\\n        <div class=\\\"mb-1\\\">\\r\\n        </div>\\r\\n          <div id=\\\"stage-parent\\\">\\r\\n            <div id=\\\"container\\\" class=\\\"border\\\">\\r\\n                <v-stage ref=\\\"stage\\\"\\r\\n                    @click=\\\"onStageClick\\\"\\r\\n                    @mousemove=\\\"onStageMouseMove\\\" \\r\\n                    @mouseenter=\\\"onStageMouseenter\\\"\\r\\n                    @mouseleave=\\\"onStageMouseleave\\\"\\r\\n                    :config=\\\"configKonva\\\" >\\r\\n                    <v-layer ref=\\\"layer\\\">\\r\\n\\r\\n                      <v-group ref=\\\"group3\\\"\\r\\n                        @click=\\\"onGroup3Click\\\"\\r\\n                        @dragend=\\\"onGroup3Dragend\\\"\\r\\n                        @mousemove=\\\"onGroup3move\\\"\\r\\n                        :config=\\\"{\\r\\n                          x: 900,\\r\\n                          y: 55,\\r\\n                          draggable: true\\r\\n                        }\\\"\\r\\n                      >\\r\\n                        <v-rect ref=\\\"main3\\\"\\r\\n                          :config=\\\"{\\r\\n                            x: 0,\\r\\n                            y: 0,\\r\\n                            width: 500,\\r\\n                            height: 600,\\r\\n                            fill: 'white',\\r\\n                            stroke:'blue',\\r\\n                            //shadowBlur: 10,\\r\\n                            name:'main'\\r\\n                          }\\\"\\r\\n                        />\\r\\n                        <v-circle ref=\\\"circle3\\\" :config=\\\"{\\r\\n                          x: 100,\\r\\n                          y: 100,\\r\\n                          dx:2,\\r\\n                          dy:2,\\r\\n                          radius: 30,\\r\\n                          fill: 'yellow',\\r\\n                          stroke: 'black',\\r\\n                          strokeWidth: 5,\\r\\n                          draggable:true,\\r\\n                          visible:true,\\r\\n                          \\r\\n                        }\\\">\\r\\n                        </v-circle>\\r\\n\\r\\n\\r\\n                        <v-rect ref=\\\"left3\\\"\\r\\n                          :config=\\\"{\\r\\n                            x: 10,\\r\\n                            y: 10,\\r\\n                            dx:2,\\r\\n                            dy:2,\\r\\n                            width: 50,\\r\\n                            height: 50,\\r\\n                            fill: 'green',\\r\\n                            stroke:'blue',\\r\\n                            //shadowBlur: 10,\\r\\n                            draggable:true,\\r\\n                            name:'left'\\r\\n                          }\\\"\\r\\n                        />\\r\\n                        <v-rect ref=\\\"right3\\\"\\r\\n                          :config=\\\"{\\r\\n                            x: 500-60,\\r\\n                            y: 600-60,\\r\\n                            width: 50,\\r\\n                            height: 50,\\r\\n                            fill: 'green',\\r\\n                            stroke:'blue',\\r\\n                            //shadowBlur: 10,\\r\\n                            draggable:true,\\r\\n                            name:'right'\\r\\n                          }\\\"\\r\\n                        />\\r\\n                      </v-group>\\r\\n                    </v-layer>\\r\\n                </v-stage>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n      </b-col>\\r\\n      <b-col sm=\\\"9\\\">\\r\\n        {{msg}}<br>\\r\\n      </b-col>\\r\\n    </b-row>\\r\\n  </div>\\r\\n</template>\\r\\n<script>\\r\\nvar sceneWidth = 1500;\\r\\nvar sceneHeight = 1000;\\r\\nvar stage=null;\\r\\nvar layer=null;\\r\\nexport default {\\r\\n  name: 'Tpl',\\r\\n  components: {\\r\\n  },\\r\\n  computed: {\\r\\n  },\\r\\n  data(){\\r\\n    return{\\r\\n        msg:\\\"hello\\\",\\r\\n        configKonva: {\\r\\n          width: sceneWidth,\\r\\n          height: sceneHeight\\r\\n        },\\r\\n        configCircle: {\\r\\n          x: sceneWidth/2,\\r\\n          y: sceneHeight/2,\\r\\n          radius: 90,\\r\\n          fill: \\\"yellow\\\",\\r\\n          stroke: \\\"black\\\",\\r\\n          strokeWidth: 5,\\r\\n          draggable:true,\\r\\n          visible:false,\\r\\n        },\\r\\n        arColor:['blue','red','yellow'],\\r\\n    }\\r\\n  },\\r\\n  mounted(){\\r\\n    this.$nextTick(function(){\\r\\n      layer=this.$refs.layer.getNode();\\r\\n      stage=this.$refs.stage.getNode();\\r\\n      window.addEventListener(\\\"resize\\\", this.fitStageIntoParentContainer);\\r\\n      this.fitStageIntoParentContainer();\\r\\n      let animate=this.createAnimate3();\\r\\n      animate.start();\\r\\n    })\\r\\n  },\\r\\n  created(){\\r\\n  },\\r\\n  methods:{\\r\\n\\r\\n    onGroup3Dragend(e){\\r\\n      this.msg={\\r\\n        p:{x:Math.floor(e.target.x()),y:Math.floor(e.target.y())}\\r\\n      }\\r\\n    },\\r\\n    onGroup3Click(){\\r\\n      let p1=this.myGetMouse();\\r\\n      let g=this.$refs.group3.getNode();\\r\\n      let p2={x:g.x(),y:g.y()};\\r\\n      let p3={\\r\\n        x:p1.x-p2.x,\\r\\n        y:p1.y-p2.y\\r\\n      }\\r\\n      this.msg={\\r\\n        p3:p3\\r\\n      }\\r\\n      let l=this.$refs.circle3.getNode().clone();\\r\\n      l.x(p3.x);\\r\\n      l.y(p3.y);\\r\\n      l.name('circle3');\\r\\n      l.setAttr(\\\"dx\\\",2);\\r\\n      l.setAttr(\\\"dy\\\",2);\\r\\n      g.add(l);\\r\\n      let len=layer.find('.circle3').length;\\r\\n      l.fill(this.arColor[len%3]);\\r\\n\\r\\n    },   \\r\\n    onGroup3move(e){\\r\\n      let p1=this.myGetMouse();\\r\\n      let g=this.$refs.group3.getNode();\\r\\n      let p2={x:g.x(),y:g.y()};\\r\\n      let p3={\\r\\n        x:p1.x-p2.x,\\r\\n        y:p1.y-p2.y\\r\\n      }\\r\\n      this.msg={\\r\\n        p3:p3\\r\\n      }\\r\\n    },    \\r\\n    circle3Move(s){\\r\\n      let dx=s.getAttr(\\\"dx\\\");\\r\\n      let dy=s.getAttr(\\\"dy\\\");\\r\\n      s.x( s.x() + dx );\\r\\n      s.y( s.y() + dy );\\r\\n    },\\r\\n    circle3ChamDung(s){\\r\\n      let m=this.$refs.main3.getNode();\\r\\n      let w=m.width();\\r\\n      let h=m.height();\\r\\n      let d= Math.abs(w-(s.x()+s.radius()));\\r\\n      return (s.x() < 0 || d < s.radius());\\r\\n    },\\r\\n    circle3ChamNgang(s){\\r\\n      let m=this.$refs.main3.getNode();\\r\\n      let w=m.width();\\r\\n      let h=m.height();\\r\\n      let d=h-(s.y()+s.radius());\\r\\n      return (s.y() < 0 || d<s.radius());\\r\\n    },\\r\\n    createAnimate3(){\\r\\n      let that=this;\\r\\n      var anim = new Konva.Animation(function (frame) {\\r\\n        let list=layer.find('.circle3');\\r\\n        //that.msg=list.length;\\r\\n        list.forEach((x)=>{\\r\\n          that.circle3Move(x);\\r\\n          if(that.circle3ChamDung(x)==true){\\r\\n            let dx=x.getAttr(\\\"dx\\\");\\r\\n            x.setAttr(\\\"dx\\\",(-1)*dx);\\r\\n            that.circle3Move(x);\\r\\n          }\\r\\n          if(that.circle3ChamNgang(x)==true){\\r\\n            let dy=x.getAttr(\\\"dy\\\");\\r\\n            x.setAttr(\\\"dy\\\",(-1)*dy);\\r\\n            that.circle3Move(x);\\r\\n          }\\r\\n\\r\\n        })\\r\\n      }, layer);\\r\\n      return anim;\\r\\n    },\\r\\n\\r\\n\\r\\n\\r\\n    onStageClick(e){\\r\\n    },\\r\\n    onStageMouseMove(e){\\r\\n    },\\r\\n    onStageMouseenter(e){\\r\\n    },\\r\\n    onStageMouseleave(e){\\r\\n    },\\r\\n    myGetMouse() {\\r\\n      let scale=stage.scale().x;\\r\\n      var mousePos = stage.getPointerPosition();\\r\\n      var x = mousePos.x;\\r\\n      var y = mousePos.y;\\r\\n      var xx = Math.round(x / scale);\\r\\n      var yy = Math.round(y / scale);\\r\\n      return { x: xx, y: yy };\\r\\n    },\\r\\n    fitStageIntoParentContainer() {\\r\\n      var container = document.querySelector('#stage-parent');\\r\\n      var containerWidth = container.offsetWidth;\\r\\n      var scale = containerWidth / sceneWidth;\\r\\n      stage.width(sceneWidth * scale);\\r\\n      stage.height(sceneHeight * scale);\\r\\n      stage.scale({ x: scale, y: scale });\\r\\n      this.configKonva.width = sceneWidth * scale;\\r\\n      this.configKonva.height = sceneHeight * scale;\\r\\n    },\\r\\n  }\\r\\n}\\r\\n</script>\\r\\n<style scoped>\\r\\n</style>\\r\\n\";"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticClass","ref","configKonva","on","onStageClick","onStageMouseMove","onStageMouseenter","onStageMouseleave","x","y","draggable","onGroup3Click","onGroup3Dragend","onGroup3move","width","height","fill","stroke","name","dx","dy","radius","strokeWidth","visible","_s","msg","staticRenderFns","sceneWidth","sceneHeight","stage","components","computed","data","configCircle","arColor","mounted","layer","window","animate","created","methods","p","p3","l","g","circle3Move","s","circle3ChamDung","circle3ChamNgang","createAnimate3","list","that","myGetMouse","fitStageIntoParentContainer","component"],"sourceRoot":""}