(self["webpackChunkvue_start_1"]=self["webpackChunkvue_start_1"]||[]).push([[7787],{80532:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return h}});var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"MonHocToan"},[r("raw-loader",{attrs:{mytxt:n(60599).Z}}),r("h1",[t._v("AxiosUpload page")]),r("div",[r("b-row",[r("b-col",{staticClass:"border-right",attrs:{md:"2"}},[r("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onUpload.apply(null,arguments)}}},[r("b-img",{ref:"output",attrs:{fluid:"",alt:"Responsive image"}}),r("input",{ref:"file",staticClass:"m-1",attrs:{type:"file",id:"file"},on:{change:t.onFileChange}}),r("br"),r("div",[r("button",{staticClass:"mr-1",attrs:{type:"submit"}},[t._v("Upload")]),r("button",{staticClass:"mr-1",on:{click:t.onRemove}},[t._v("Remove")])])],1)]),r("b-col",{attrs:{md:"10"}},[r("b-row",t._l(t.ds,(function(t){return r("b-col",{key:t.imageName,staticClass:"border-right",attrs:{md:"1"}},[r("img",{attrs:{width:"100%",height:"40",fluid:"",src:"/api/FileUpload/GetImage/"+t.imageName,alt:"Image 1"}})])})),1),r("hr")],1)],1)],1)],1)},a=[],i=n(77673),o=n(16198),s=(n(41539),n(19755)),l=n.n(s),u=n(9669),f=n.n(u),c={name:"Tpl",components:{},data:function(){return{ds:[]}},methods:{onUpload:function(){var t=this,e=this.$refs.file.files;if(0!=e.length){var n=e[0],r=new FormData;r.append("myfile",n),r.append("myName","thuc 101"),this.UploadAxios(r).then((function(e){t.ds.push(e.data.rec),l()(t.$refs.file).val(""),l()(t.$refs.output).attr("src","")}))}},onFileChange:function(){var t=this,e=this.$refs.file.files,n=e[0];this.getReadAsDataURL(n).then((function(e){l()(t.$refs.output).attr("src",e)}))},onRemove:function(){l()(this.$refs.output).attr("src",""),l()(this.$refs.file).val("")},getReadAsDataURL:function(t){return new Promise((function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsDataURL(t)}))},UploadAxios:function(t){return(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f().post("/api/FileUpload/UploadAxios",t).catch((function(t){console.log(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}}},d=c,p=n(1001),m=(0,p.Z)(d,r,a,!1,null,null,null),h=m.exports},38862:function(t,e,n){var r=n(82109),a=n(35005),i=n(22104),o=n(46916),s=n(1702),l=n(47293),u=n(43157),f=n(60614),c=n(70111),d=n(52190),p=n(50206),m=n(30133),h=a("JSON","stringify"),v=s(/./.exec),g=s("".charAt),b=s("".charCodeAt),U=s("".replace),w=s(1..toString),$=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,y=/^[\uDC00-\uDFFF]$/,D=!m||l((function(){var t=a("Symbol")();return"[null]"!=h([t])||"{}"!=h({a:t})||"{}"!=h(Object(t))})),F=l((function(){return'"\\udf06\\ud834"'!==h("\udf06\ud834")||'"\\udead"'!==h("\udead")})),R=function(t,e){var n=p(arguments),r=e;if((c(e)||void 0!==t)&&!d(t))return u(e)||(e=function(t,e){if(f(r)&&(e=o(r,this,t,e)),!d(e))return e}),n[1]=e,i(h,null,n)},A=function(t,e,n){var r=g(n,e-1),a=g(n,e+1);return v(x,t)&&!v(y,a)||v(y,t)&&!v(x,r)?"\\u"+w(b(t,0),16):t};h&&r({target:"JSON",stat:!0,arity:3,forced:D||F},{stringify:function(t,e,n){var r=p(arguments),a=i(D?R:h,null,r);return F&&"string"==typeof a?U(a,$,A):a}})},60599:function(t,e){"use strict";e["Z"]='<template>\n  <div class="MonHocToan">\n    <raw-loader :mytxt="require(\'!raw-loader!./AxiosUpload.vue\').default"></raw-loader>\n    <h1>AxiosUpload page</h1>\n    <div>\n\n      <b-row>\n        <b-col md="2" class="border-right">\n          <form enctype="multipart/form-data" @submit.stop.prevent="onUpload">\n            <b-img ref="output" fluid alt="Responsive image"></b-img>\n            <input type="file" id="file" ref="file" class="m-1" @change="onFileChange" /><br>\n            <div>\n              <button type="submit" class="mr-1">Upload</button>\n              <button @click="onRemove" class="mr-1">Remove</button>\n            </div>\n          </form>\n        </b-col>\n        <b-col md="10">\n          <b-row>\n            <b-col md="1" v-for="x in ds" :key="x.imageName" class="border-right">\n              <img width="100%" height="40" fluid :src="`/api/FileUpload/GetImage/${x.imageName}`" alt="Image 1" />\n            </b-col>\n          </b-row>\n          <hr>\n        </b-col>\n      </b-row>\n\n    </div>\n  </div>\n</template>\n<script>\nimport $ from "jquery";\nimport axios from "axios";\nexport default {\n  name: \'Tpl\',\n  components: {\n  },\n  data() {\n    return {\n      ds: []\n    }\n  },\n  methods: {\n    onUpload() {\n      let files = this.$refs.file.files;\n      if (files.length == 0) return;\n      let file = files[0];\n      var formData = new FormData();\n      formData.append("myfile", file);\n      formData.append("myName", "thuc 101");\n      this.UploadAxios(formData).then(res => {\n        this.ds.push(res.data.rec);\n        $(this.$refs.file).val("");\n        $(this.$refs.output).attr("src", "");\n      })\n    },\n    onFileChange() {\n      let files = this.$refs.file.files;\n      let file = files[0];\n      this.getReadAsDataURL(file).then((res) => {\n        $(this.$refs.output).attr("src", res);\n      });\n    },\n    onRemove() {\n      $(this.$refs.output).attr("src", "");\n      $(this.$refs.file).val("");\n    },\n    getReadAsDataURL(file) {\n      return new Promise((resolve, reject) => {\n        let reader = new FileReader();\n        reader.onload = () => {\n          resolve(reader.result);\n        };\n        reader.onerror = reject;\n        reader.readAsDataURL(file);\n      });\n    },\n    async UploadAxios(formData) {\n      return await axios\n        .post(`/api/FileUpload/UploadAxios`, formData)\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  }\n}\n<\/script>\n'}}]);
//# sourceMappingURL=7787-legacy.ec21c82e.js.map