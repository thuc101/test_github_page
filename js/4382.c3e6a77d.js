"use strict";(self["webpackChunkvue_start_1"]=self["webpackChunkvue_start_1"]||[]).push([[4382],{84382:function(t,e,n){n.r(e),n.d(e,{default:function(){return f}});var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("raw-loader",{attrs:{mytxt:n(72213).Z}}),r("h1",{staticClass:"border-bottom"},[t._v("Test Login")]),r("b-row",[r("b-col",{staticClass:"border-right",attrs:{md:"3"}},[0==t.isLogged()?r("div",[t._v(" Username :"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.acc.username,expression:"acc.username"}],domProps:{value:t.acc.username},on:{input:function(e){e.target.composing||t.$set(t.acc,"username",e.target.value)}}}),r("br"),t._v(" Password :"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.acc.password,expression:"acc.password"}],domProps:{value:t.acc.password},on:{input:function(e){e.target.composing||t.$set(t.acc,"password",e.target.value)}}}),r("br"),r("button",{on:{click:t.onTestLogin}},[t._v("Login")])]):r("div",[t._v(" User info :"),r("br"),r("button",{staticClass:"mr-1",on:{click:t.onLogout}},[t._v("Logout")])]),r("div",[r("h3",{staticClass:"border-bottom mt-1"},[t._v("Test area")]),r("button",{staticClass:"mr-1",on:{click:t.GetUserInfo}},[t._v("Get User Info")]),r("button",{staticClass:"mr-1",on:{click:t.TestXemBan}},[t._v("Test xem Ban")]),r("button",{staticClass:"mr-1",on:{click:t.TestThemBan}},[t._v("Test Them Ban")]),r("button",{staticClass:"mr-1",on:{click:t.TestXoaBan}},[t._v("Test Xoa Ban")]),r("button",{staticClass:"mr-1",on:{click:t.TestSuaBan}},[t._v("Test Sua Ban")]),r("button",{staticClass:"mr-1",on:{click:t.GetQuyenAll}},[t._v("Get Quyen all")]),r("button",{staticClass:"mr-1",on:{click:t.TestK1Policy}},[t._v("TestK1Policy")]),r("hr"),r("button",{staticClass:"mr-1",on:{click:t.TestThemBanHang}},[t._v("Test Them Ban Hang")])])]),r("b-col",{attrs:{md:"6"}},[t._v(" "+t._s(t.msg)+" "),r("role-level-com"),r("h3",[t._v("List permission")]),r("b-table",{attrs:{items:t.ds,fields:t.fields},scopedSlots:t._u([{key:"cell()",fn:function(e){var n=e.value,a=(e.item,e.field.key);return["claimName"==a?[t._v(" "+t._s(n)+" ")]:t._e(),"list"==a?t._l(n,(function(e,n){return r("span",[t._v(" "+t._s(n)+" "),r("input",1==e?{staticClass:"mr-2",attrs:{disabled:"disabled",checked:"",type:"checkbox"}}:{staticClass:"mr-2",attrs:{disabled:"disabled",type:"checkbox"}})])})):t._e()]}}])})],1),r("b-col",{attrs:{md:"3"}},[r("pre",{staticClass:"large-font border"},[t._v(t._s(t.userInfo))])])],1),r("div")],1)},a=[],s=n(70790),o=n(53009),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("h1",[t._v("List role level")]),n("b-table",{attrs:{small:"",items:t.items,fields:[]}})],1)},l=[],c={components:{},data(){return{items:[]}},mounted(){this.GetListRoleLevel()},methods:{async GetListRoleLevel(){return await s.Z.get("/api/NguoiDung4/GetListRoleLevel").then((t=>{let e=[],n=t.data,r={};n.forEach((t=>{r[t.Key]=t.Value})),e.push(r),this.items=e})).catch((t=>{o.Z.XuLyErr(t)}))}}},u=c,m=n(1001),g=(0,m.Z)(u,i,l,!1,null,null,null),h=g.exports,d={components:{RoleLevelCom:h},data(){return{acc:{username:"admin",password:"1234"},msg:{},userInfo:{},ds:[],fields:[{key:"claimName",sortable:!0,thClass:"text-center",tdClass:"align-middle",thStyle:{width:"20%"}},{key:"list",sortable:!0,thClass:"text-center",tdClass:"align-middle",thStyle:{width:"80%"}}],token:""}},mounted(){let t=localStorage.getItem("token")?localStorage.getItem("token"):"";this.token=t,""!=t&&(this.GetUserInfo(),this.GetQuyenAll())},methods:{isLogged(){let t=1,e=localStorage.getItem("token")?localStorage.getItem("token"):"";return""==e&&(t=0),t},onLogout(){localStorage.removeItem("token"),location.reload()},onTestLogin(){this.Login(this.acc)},async Login(t){return await s.Z.post("/api/NguoiDung4/Login",t).then((t=>{alert("Đăng nhập thành công.");let e=t.data.kq.Token;localStorage.setItem("token",e),location.reload()})).catch((t=>{o.Z.XuLyErr(t)}))},async GetUserInfo(){return await s.Z.get("/api/NguoiDung4/GetUserInfo").then((t=>{this.userInfo=t.data})).catch((t=>{o.Z.XuLyErr(t)}))},async TestXemBan(){return await s.Z.get("/api/NguoiDung4/TestXemBan").then((t=>{this.msg=t.data})).catch((t=>{o.Z.XuLyErr(t)}))},async TestThemBan(){return await s.Z.get("/api/NguoiDung4/TestThemBan").then((t=>{this.msg=t.data})).catch((t=>{o.Z.XuLyErr(t)}))},async TestXoaBan(){return await s.Z.get("/api/NguoiDung4/TestXoaBan").then((t=>{this.msg=t.data})).catch((t=>{o.Z.XuLyErr(t)}))},async TestSuaBan(){return await s.Z.get("/api/NguoiDung4/TestSuaBan").then((t=>{this.msg=t.data})).catch((t=>{o.Z.XuLyErr(t)}))},async TestThemBanHang(){return await s.Z.get("/api/NguoiDung4/TestThemBanHang").then((t=>{alert(JSON.stringify(t))})).catch((t=>{o.Z.XuLyErr(t)}))},async TestK1Policy(){return await s.Z.get("/api/NguoiDung4/TestK1Policy").then((t=>{alert(JSON.stringify(t))})).catch((t=>{o.Z.XuLyErr(t)}))},async GetQuyenAll(){return await s.Z.get("/api/NguoiDung4/GetQuyenAll").then((t=>{this.ds=t.data})).catch((t=>{o.Z.XuLyErr(t)}))}}},p=d,y=(0,m.Z)(p,r,a,!1,null,"7dadf384",null),f=y.exports},72213:function(t,e){e["Z"]='<template>\r\n    <div class="home">\r\n        <raw-loader :mytxt="require(\'!raw-loader!./TestLogin.vue\').default"></raw-loader>\r\n        <h1 class="border-bottom">Test Login</h1>\r\n        <b-row>\r\n            <b-col class="border-right" md="3">\r\n                <div v-if="isLogged() == 0">\r\n                    Username :<input v-model="acc.username" /><br>\r\n                    Password :<input v-model="acc.password" /><br>\r\n                    <button @click="onTestLogin">Login</button>\r\n                </div>\r\n                <div v-else>\r\n                    User info :<br>\r\n                    <button class="mr-1" @click="onLogout">Logout</button>\r\n                </div>\r\n                <div>\r\n                    <h3 class="border-bottom mt-1">Test area</h3>\r\n                    <button class="mr-1" @click="GetUserInfo">Get User Info</button>\r\n                    <button class="mr-1" @click="TestXemBan">Test xem Ban</button>\r\n                    <button class="mr-1" @click="TestThemBan">Test Them Ban</button>\r\n                    <button class="mr-1" @click="TestXoaBan">Test Xoa Ban</button>\r\n                    <button class="mr-1" @click="TestSuaBan">Test Sua Ban</button>\r\n                    <button class="mr-1" @click="GetQuyenAll">Get Quyen all</button>\r\n                    <button class="mr-1" @click="TestK1Policy">TestK1Policy</button>\r\n                    \r\n                    <hr>\r\n                    <button class="mr-1" @click="TestThemBanHang">Test Them Ban Hang</button>\r\n\r\n                </div>\r\n            </b-col>\r\n            <b-col md="6">\r\n                {{ msg }}\r\n                <role-level-com></role-level-com>\r\n                <h3>List permission</h3>\r\n                <b-table :items="ds" :fields="fields">\r\n                    <template v-slot:cell()="{ value, item, field: { key } }">\r\n                        <template v-if=" key==\'claimName\' ">\r\n                            {{ value }}\r\n                        </template>\r\n                        <template v-if=" key==\'list\' ">\r\n                            <span v-for="(v1,k1) in value">\r\n                                {{ k1 }}\r\n                                <input disabled="disabled" class="mr-2" v-if = "v1==true" checked type="checkbox" >\r\n                                <input disabled="disabled" class="mr-2" v-else type="checkbox" >\r\n                            </span>\r\n                        </template>\r\n                    </template>    \r\n                </b-table>\r\n            </b-col>\r\n            <b-col md="3">\r\n                <pre class="large-font border">{{ userInfo }}</pre>\r\n            </b-col>\r\n        </b-row>\r\n        <div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport fetchClient from \'@/fetchClient\';\r\nimport TumLum from \'@/TumLum\';\r\nimport RoleLevelCom from "@/views/NguoiDung/RoleLevelCom.vue"\r\nexport default {\r\n    components: {\r\n        RoleLevelCom\r\n    },\r\n    data() {\r\n        return {\r\n            acc: {\r\n                username: \'admin\',\r\n                password: \'1234\'\r\n            },\r\n            msg: {},\r\n            userInfo: {},\r\n            ds:[],\r\n            fields:[\r\n                { key: \'claimName\', \r\n                    sortable: true, thClass: \'text-center\', tdClass: \'align-middle\', thStyle: { width: "20%" }},\r\n                { key: \'list\', \r\n                    sortable: true, thClass: \'text-center\', tdClass: \'align-middle\', thStyle: { width: "80%" }},\r\n            ],\r\n            token: \'\',\r\n        }\r\n    },\r\n    mounted() {\r\n        let token = (localStorage.getItem("token")) ? localStorage.getItem("token") : \'\';\r\n        this.token = token;\r\n        if (token != \'\') {\r\n            this.GetUserInfo();\r\n            this.GetQuyenAll();\r\n        }\r\n    },\r\n    methods: {\r\n        isLogged() {\r\n            let kq = 1;\r\n            let token = (localStorage.getItem("token")) ? localStorage.getItem("token") : \'\';\r\n            if (token == \'\') kq = 0;\r\n            return kq;\r\n        },\r\n        onLogout() {\r\n            localStorage.removeItem("token");\r\n            location.reload();\r\n        },\r\n        onTestLogin() {\r\n            this.Login(this.acc);\r\n        },\r\n        async Login(acc) {\r\n            return await fetchClient.post(`/api/NguoiDung4/Login`, acc)\r\n                .then(res => {\r\n                    alert(`Đăng nhập thành công.`);\r\n                    let token = res.data.kq.Token;\r\n                    localStorage.setItem("token", token);\r\n                    location.reload();\r\n                })\r\n                .catch(err => {\r\n                    TumLum.XuLyErr(err);\r\n                })\r\n        },\r\n        async GetUserInfo() {\r\n            return await fetchClient.get(`/api/NguoiDung4/GetUserInfo`)\r\n                .then(res => {\r\n                    this.userInfo = res.data;\r\n                })\r\n                .catch(err => {\r\n                    TumLum.XuLyErr(err);\r\n                })\r\n        },\r\n        async TestXemBan() {\r\n            return await fetchClient.get(`/api/NguoiDung4/TestXemBan`)\r\n                .then(res => {\r\n                    this.msg = res.data;\r\n                })\r\n                .catch(err => {\r\n                    TumLum.XuLyErr(err);\r\n                })\r\n        },\r\n        async TestThemBan() {\r\n            return await fetchClient.get(`/api/NguoiDung4/TestThemBan`)\r\n                .then(res => {\r\n                    this.msg = res.data;\r\n                })\r\n                .catch(err => {\r\n                    TumLum.XuLyErr(err);\r\n                })\r\n        },\r\n        async TestXoaBan() {\r\n            return await fetchClient.get(`/api/NguoiDung4/TestXoaBan`)\r\n                .then(res => {\r\n                    this.msg = res.data;\r\n                })\r\n                .catch(err => {\r\n                    TumLum.XuLyErr(err);\r\n                })\r\n        },\r\n        async TestSuaBan() {\r\n            return await fetchClient.get(`/api/NguoiDung4/TestSuaBan`)\r\n                .then(res => {\r\n                    this.msg = res.data;\r\n                })\r\n                .catch(err => {\r\n                    TumLum.XuLyErr(err);\r\n                })\r\n        },\r\n        async TestThemBanHang() {\r\n            return await fetchClient.get(`/api/NguoiDung4/TestThemBanHang`)\r\n                .then(res => {\r\n                    //this.msg = res.data;\r\n                    alert(JSON.stringify(res));\r\n                })\r\n                .catch(err => {\r\n                    TumLum.XuLyErr(err);\r\n                })\r\n        },\r\n        async TestK1Policy() {\r\n            return await fetchClient.get(`/api/NguoiDung4/TestK1Policy`)\r\n                .then(res => {\r\n                    //this.msg = res.data;\r\n                    alert(JSON.stringify(res));\r\n                })\r\n                .catch(err => {\r\n                    TumLum.XuLyErr(err);\r\n                })\r\n        },\r\n\r\n\r\n\r\n\r\n        async GetQuyenAll() {\r\n            return await fetchClient.get(`/api/NguoiDung4/GetQuyenAll`)\r\n                .then(res => {\r\n                    //alert(JSON.stringify(res));\r\n                    /*{"data":[{\r\n                        "claimName":"Ban",\r\n                        "list":{"Xem":false,"The                    \r\n                    */\r\n                    //this.quyens = res.data;\r\n                    this.ds=res.data;\r\n                })\r\n                .catch((err) => {\r\n                    TumLum.XuLyErr(err);\r\n                });\r\n        },\r\n\r\n\r\n    }\r\n}\r\n<\/script>\r\n<style scoped>\r\n.large-font {\r\n    font-size: 10.5px;\r\n    height: 300px;\r\n    overflow: auto;\r\n}\r\n\r\n/*pre {\r\n  height: 100px;\r\n  overflow: auto;\r\n}*/\r\n</style>\r\n  '},53009:function(t,e){e["Z"]={XuLyErr(t){let e=JSON.parse(JSON.stringify(t)).status;if(400==e){let e=JSON.parse(JSON.stringify(t.response)).data.message;alert(e)}else t.response?401==t.response.status?alert("Chưa đăng nhập hoặc token hết hạn"):403==t.response.status&&alert("Bạn ko có quyền"):t.request?alert(JSON.stringify(t.request)):t.message&&alert(JSON.stringify(t.message))}}},70790:function(t,e,n){var r=n(9669),a=n.n(r);const s=()=>{const t={baseURL:"",method:"get",headers:{"Content-Type":"application/json;charset=utf-8"}};let e=a().create(t);return e.interceptors.request.use((function(t){const e=localStorage.getItem("token");return t.headers.Authorization=e?`Bearer ${e}`:"",t})),e};e["Z"]=s()}}]);
//# sourceMappingURL=4382.c3e6a77d.js.map