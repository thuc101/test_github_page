{"version":3,"file":"js/3308-legacy.375dedcb.js","mappings":"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","sources":["webpack://vue_start_1/./src/views/Konva/KonvaVueGroup2.vue?6837","webpack://vue_start_1/src/views/Konva/KonvaVueGroup2.vue","webpack://vue_start_1/./src/views/Konva/KonvaVueGroup2.vue?927d","webpack://vue_start_1/./src/views/Konva/KonvaVueGroup2.vue?ecfd","webpack://vue_start_1/./node_modules/core-js/internals/array-fill.js","webpack://vue_start_1/./node_modules/core-js/internals/array-for-each.js","webpack://vue_start_1/./node_modules/core-js/internals/array-method-is-strict.js","webpack://vue_start_1/./node_modules/core-js/modules/es.array.fill.js","webpack://vue_start_1/./node_modules/core-js/modules/es.array.find.js","webpack://vue_start_1/./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack://vue_start_1/./src/views/Konva/KonvaVueGroup2.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('raw-loader',{attrs:{\"mytxt\":require('!raw-loader!./KonvaVueGroup2.vue').default}}),_c('h1',[_vm._v(\"This is KonvaVue\")]),_c('b-row',[_c('b-col',{staticClass:\"border-right\",attrs:{\"sm\":\"3\"}},[_c('div',{staticClass:\"mb-1\"}),_c('div',{attrs:{\"id\":\"stage-parent\"}},[_c('div',{staticClass:\"border\",attrs:{\"id\":\"container\"}},[_c('v-stage',{ref:\"stage\",attrs:{\"config\":_vm.configKonva},on:{\"click\":_vm.onStageClick,\"mousemove\":_vm.onStageMouseMove,\"mouseenter\":_vm.onStageMouseenter,\"mouseleave\":_vm.onStageMouseleave}},[_c('v-layer',{ref:\"layer\"},[_c('v-group',{ref:\"group3\",attrs:{\"config\":{\n                        x: 900,\n                        y: 55,\n                        draggable: true\n                      }},on:{\"click\":_vm.onGroup3Click,\"dragend\":_vm.onGroup3Dragend,\"mousemove\":_vm.onGroup3move}},[_c('v-rect',{ref:\"main3\",attrs:{\"config\":{\n                          x: 0,\n                          y: 0,\n                          width: 500,\n                          height: 600,\n                          fill: 'white',\n                          stroke:'blue',\n                          //shadowBlur: 10,\n                          name:'main'\n                        }}}),_c('v-circle',{ref:\"circle3\",attrs:{\"config\":{\n                        x: 100,\n                        y: 100,\n                        dx:2,\n                        dy:2,\n                        radius: 30,\n                        fill: 'yellow',\n                        stroke: 'black',\n                        strokeWidth: 5,\n                        draggable:true,\n                        visible:true,\n                        \n                      }}}),_c('v-rect',{ref:\"left3\",attrs:{\"config\":{\n                          x: 10,\n                          y: 10,\n                          dx:2,\n                          dy:2,\n                          width: 50,\n                          height: 50,\n                          fill: 'green',\n                          stroke:'blue',\n                          //shadowBlur: 10,\n                          draggable:true,\n                          name:'left'\n                        }}}),_c('v-rect',{ref:\"right3\",attrs:{\"config\":{\n                          x: 500-60,\n                          y: 600-60,\n                          width: 50,\n                          height: 50,\n                          fill: 'green',\n                          stroke:'blue',\n                          //shadowBlur: 10,\n                          draggable:true,\n                          name:'right'\n                        }}})],1)],1)],1)],1)])]),_c('b-col',{attrs:{\"sm\":\"9\"}},[_vm._v(\" \"+_vm._s(_vm.msg)),_c('br')])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <raw-loader :mytxt=\" require('!raw-loader!./KonvaVueGroup2.vue').default \"></raw-loader> \r\n    <h1>This is KonvaVue</h1>\r\n    <b-row>\r\n      <b-col sm=\"3\" class=\"border-right\">\r\n        <div class=\"mb-1\">\r\n        </div>\r\n          <div id=\"stage-parent\">\r\n            <div id=\"container\" class=\"border\">\r\n                <v-stage ref=\"stage\"\r\n                    @click=\"onStageClick\"\r\n                    @mousemove=\"onStageMouseMove\" \r\n                    @mouseenter=\"onStageMouseenter\"\r\n                    @mouseleave=\"onStageMouseleave\"\r\n                    :config=\"configKonva\" >\r\n                    <v-layer ref=\"layer\">\r\n\r\n                      <v-group ref=\"group3\"\r\n                        @click=\"onGroup3Click\"\r\n                        @dragend=\"onGroup3Dragend\"\r\n                        @mousemove=\"onGroup3move\"\r\n                        :config=\"{\r\n                          x: 900,\r\n                          y: 55,\r\n                          draggable: true\r\n                        }\"\r\n                      >\r\n                        <v-rect ref=\"main3\"\r\n                          :config=\"{\r\n                            x: 0,\r\n                            y: 0,\r\n                            width: 500,\r\n                            height: 600,\r\n                            fill: 'white',\r\n                            stroke:'blue',\r\n                            //shadowBlur: 10,\r\n                            name:'main'\r\n                          }\"\r\n                        />\r\n                        <v-circle ref=\"circle3\" :config=\"{\r\n                          x: 100,\r\n                          y: 100,\r\n                          dx:2,\r\n                          dy:2,\r\n                          radius: 30,\r\n                          fill: 'yellow',\r\n                          stroke: 'black',\r\n                          strokeWidth: 5,\r\n                          draggable:true,\r\n                          visible:true,\r\n                          \r\n                        }\">\r\n                        </v-circle>\r\n\r\n\r\n                        <v-rect ref=\"left3\"\r\n                          :config=\"{\r\n                            x: 10,\r\n                            y: 10,\r\n                            dx:2,\r\n                            dy:2,\r\n                            width: 50,\r\n                            height: 50,\r\n                            fill: 'green',\r\n                            stroke:'blue',\r\n                            //shadowBlur: 10,\r\n                            draggable:true,\r\n                            name:'left'\r\n                          }\"\r\n                        />\r\n                        <v-rect ref=\"right3\"\r\n                          :config=\"{\r\n                            x: 500-60,\r\n                            y: 600-60,\r\n                            width: 50,\r\n                            height: 50,\r\n                            fill: 'green',\r\n                            stroke:'blue',\r\n                            //shadowBlur: 10,\r\n                            draggable:true,\r\n                            name:'right'\r\n                          }\"\r\n                        />\r\n                      </v-group>\r\n                    </v-layer>\r\n                </v-stage>\r\n            </div>\r\n          </div>\r\n\r\n      </b-col>\r\n      <b-col sm=\"9\">\r\n        {{msg}}<br>\r\n      </b-col>\r\n    </b-row>\r\n  </div>\r\n</template>\r\n<script>\r\nvar sceneWidth = 1500;\r\nvar sceneHeight = 1000;\r\nvar stage=null;\r\nvar layer=null;\r\nexport default {\r\n  name: 'Tpl',\r\n  components: {\r\n  },\r\n  computed: {\r\n  },\r\n  data(){\r\n    return{\r\n        msg:\"hello\",\r\n        configKonva: {\r\n          width: sceneWidth,\r\n          height: sceneHeight\r\n        },\r\n        configCircle: {\r\n          x: sceneWidth/2,\r\n          y: sceneHeight/2,\r\n          radius: 90,\r\n          fill: \"yellow\",\r\n          stroke: \"black\",\r\n          strokeWidth: 5,\r\n          draggable:true,\r\n          visible:false,\r\n        },\r\n        arColor:['blue','red','yellow'],\r\n    }\r\n  },\r\n  mounted(){\r\n    this.$nextTick(function(){\r\n      layer=this.$refs.layer.getNode();\r\n      stage=this.$refs.stage.getNode();\r\n      window.addEventListener(\"resize\", this.fitStageIntoParentContainer);\r\n      this.fitStageIntoParentContainer();\r\n      let animate=this.createAnimate3();\r\n      animate.start();\r\n    })\r\n  },\r\n  created(){\r\n  },\r\n  methods:{\r\n\r\n    onGroup3Dragend(e){\r\n      this.msg={\r\n        p:{x:Math.floor(e.target.x()),y:Math.floor(e.target.y())}\r\n      }\r\n    },\r\n    onGroup3Click(){\r\n      let p1=this.myGetMouse();\r\n      let g=this.$refs.group3.getNode();\r\n      let p2={x:g.x(),y:g.y()};\r\n      let p3={\r\n        x:p1.x-p2.x,\r\n        y:p1.y-p2.y\r\n      }\r\n      this.msg={\r\n        p3:p3\r\n      }\r\n      let l=this.$refs.circle3.getNode().clone();\r\n      l.x(p3.x);\r\n      l.y(p3.y);\r\n      l.name('circle3');\r\n      l.setAttr(\"dx\",2);\r\n      l.setAttr(\"dy\",2);\r\n      g.add(l);\r\n      let len=layer.find('.circle3').length;\r\n      l.fill(this.arColor[len%3]);\r\n\r\n    },   \r\n    onGroup3move(e){\r\n      let p1=this.myGetMouse();\r\n      let g=this.$refs.group3.getNode();\r\n      let p2={x:g.x(),y:g.y()};\r\n      let p3={\r\n        x:p1.x-p2.x,\r\n        y:p1.y-p2.y\r\n      }\r\n      this.msg={\r\n        p3:p3\r\n      }\r\n    },    \r\n    circle3Move(s){\r\n      let dx=s.getAttr(\"dx\");\r\n      let dy=s.getAttr(\"dy\");\r\n      s.x( s.x() + dx );\r\n      s.y( s.y() + dy );\r\n    },\r\n    circle3ChamDung(s){\r\n      let m=this.$refs.main3.getNode();\r\n      let w=m.width();\r\n      let h=m.height();\r\n      let d= Math.abs(w-(s.x()+s.radius()));\r\n      return (s.x() < 0 || d < s.radius());\r\n    },\r\n    circle3ChamNgang(s){\r\n      let m=this.$refs.main3.getNode();\r\n      let w=m.width();\r\n      let h=m.height();\r\n      let d=h-(s.y()+s.radius());\r\n      return (s.y() < 0 || d<s.radius());\r\n    },\r\n    createAnimate3(){\r\n      let that=this;\r\n      var anim = new Konva.Animation(function (frame) {\r\n        let list=layer.find('.circle3');\r\n        //that.msg=list.length;\r\n        list.forEach((x)=>{\r\n          that.circle3Move(x);\r\n          if(that.circle3ChamDung(x)==true){\r\n            let dx=x.getAttr(\"dx\");\r\n            x.setAttr(\"dx\",(-1)*dx);\r\n            that.circle3Move(x);\r\n          }\r\n          if(that.circle3ChamNgang(x)==true){\r\n            let dy=x.getAttr(\"dy\");\r\n            x.setAttr(\"dy\",(-1)*dy);\r\n            that.circle3Move(x);\r\n          }\r\n\r\n        })\r\n      }, layer);\r\n      return anim;\r\n    },\r\n\r\n\r\n\r\n    onStageClick(e){\r\n    },\r\n    onStageMouseMove(e){\r\n    },\r\n    onStageMouseenter(e){\r\n    },\r\n    onStageMouseleave(e){\r\n    },\r\n    myGetMouse() {\r\n      let scale=stage.scale().x;\r\n      var mousePos = stage.getPointerPosition();\r\n      var x = mousePos.x;\r\n      var y = mousePos.y;\r\n      var xx = Math.round(x / scale);\r\n      var yy = Math.round(y / scale);\r\n      return { x: xx, y: yy };\r\n    },\r\n    fitStageIntoParentContainer() {\r\n      var container = document.querySelector('#stage-parent');\r\n      var containerWidth = container.offsetWidth;\r\n      var scale = containerWidth / sceneWidth;\r\n      stage.width(sceneWidth * scale);\r\n      stage.height(sceneHeight * scale);\r\n      stage.scale({ x: scale, y: scale });\r\n      this.configKonva.width = sceneWidth * scale;\r\n      this.configKonva.height = sceneHeight * scale;\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KonvaVueGroup2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KonvaVueGroup2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./KonvaVueGroup2.vue?vue&type=template&id=ab5aa9ee&scoped=true&\"\nimport script from \"./KonvaVueGroup2.vue?vue&type=script&lang=js&\"\nexport * from \"./KonvaVueGroup2.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ab5aa9ee\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = lengthOfArrayLike(O);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es-x/no-array-prototype-foreach -- safe\n} : [].forEach;\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call -- required for testing\n    method.call(null, argument || function () { return 1; }, 1);\n  });\n};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.es/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar handlePrototype = function (CollectionPrototype) {\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  if (DOMIterables[COLLECTION_NAME]) {\n    handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);\n  }\n}\n\nhandlePrototype(DOMTokenListPrototype);\n","export default \"<template>\\r\\n  <div>\\r\\n    <raw-loader :mytxt=\\\" require('!raw-loader!./KonvaVueGroup2.vue').default \\\"></raw-loader> \\r\\n    <h1>This is KonvaVue</h1>\\r\\n    <b-row>\\r\\n      <b-col sm=\\\"3\\\" class=\\\"border-right\\\">\\r\\n        <div class=\\\"mb-1\\\">\\r\\n        </div>\\r\\n          <div id=\\\"stage-parent\\\">\\r\\n            <div id=\\\"container\\\" class=\\\"border\\\">\\r\\n                <v-stage ref=\\\"stage\\\"\\r\\n                    @click=\\\"onStageClick\\\"\\r\\n                    @mousemove=\\\"onStageMouseMove\\\" \\r\\n                    @mouseenter=\\\"onStageMouseenter\\\"\\r\\n                    @mouseleave=\\\"onStageMouseleave\\\"\\r\\n                    :config=\\\"configKonva\\\" >\\r\\n                    <v-layer ref=\\\"layer\\\">\\r\\n\\r\\n                      <v-group ref=\\\"group3\\\"\\r\\n                        @click=\\\"onGroup3Click\\\"\\r\\n                        @dragend=\\\"onGroup3Dragend\\\"\\r\\n                        @mousemove=\\\"onGroup3move\\\"\\r\\n                        :config=\\\"{\\r\\n                          x: 900,\\r\\n                          y: 55,\\r\\n                          draggable: true\\r\\n                        }\\\"\\r\\n                      >\\r\\n                        <v-rect ref=\\\"main3\\\"\\r\\n                          :config=\\\"{\\r\\n                            x: 0,\\r\\n                            y: 0,\\r\\n                            width: 500,\\r\\n                            height: 600,\\r\\n                            fill: 'white',\\r\\n                            stroke:'blue',\\r\\n                            //shadowBlur: 10,\\r\\n                            name:'main'\\r\\n                          }\\\"\\r\\n                        />\\r\\n                        <v-circle ref=\\\"circle3\\\" :config=\\\"{\\r\\n                          x: 100,\\r\\n                          y: 100,\\r\\n                          dx:2,\\r\\n                          dy:2,\\r\\n                          radius: 30,\\r\\n                          fill: 'yellow',\\r\\n                          stroke: 'black',\\r\\n                          strokeWidth: 5,\\r\\n                          draggable:true,\\r\\n                          visible:true,\\r\\n                          \\r\\n                        }\\\">\\r\\n                        </v-circle>\\r\\n\\r\\n\\r\\n                        <v-rect ref=\\\"left3\\\"\\r\\n                          :config=\\\"{\\r\\n                            x: 10,\\r\\n                            y: 10,\\r\\n                            dx:2,\\r\\n                            dy:2,\\r\\n                            width: 50,\\r\\n                            height: 50,\\r\\n                            fill: 'green',\\r\\n                            stroke:'blue',\\r\\n                            //shadowBlur: 10,\\r\\n                            draggable:true,\\r\\n                            name:'left'\\r\\n                          }\\\"\\r\\n                        />\\r\\n                        <v-rect ref=\\\"right3\\\"\\r\\n                          :config=\\\"{\\r\\n                            x: 500-60,\\r\\n                            y: 600-60,\\r\\n                            width: 50,\\r\\n                            height: 50,\\r\\n                            fill: 'green',\\r\\n                            stroke:'blue',\\r\\n                            //shadowBlur: 10,\\r\\n                            draggable:true,\\r\\n                            name:'right'\\r\\n                          }\\\"\\r\\n                        />\\r\\n                      </v-group>\\r\\n                    </v-layer>\\r\\n                </v-stage>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n      </b-col>\\r\\n      <b-col sm=\\\"9\\\">\\r\\n        {{msg}}<br>\\r\\n      </b-col>\\r\\n    </b-row>\\r\\n  </div>\\r\\n</template>\\r\\n<script>\\r\\nvar sceneWidth = 1500;\\r\\nvar sceneHeight = 1000;\\r\\nvar stage=null;\\r\\nvar layer=null;\\r\\nexport default {\\r\\n  name: 'Tpl',\\r\\n  components: {\\r\\n  },\\r\\n  computed: {\\r\\n  },\\r\\n  data(){\\r\\n    return{\\r\\n        msg:\\\"hello\\\",\\r\\n        configKonva: {\\r\\n          width: sceneWidth,\\r\\n          height: sceneHeight\\r\\n        },\\r\\n        configCircle: {\\r\\n          x: sceneWidth/2,\\r\\n          y: sceneHeight/2,\\r\\n          radius: 90,\\r\\n          fill: \\\"yellow\\\",\\r\\n          stroke: \\\"black\\\",\\r\\n          strokeWidth: 5,\\r\\n          draggable:true,\\r\\n          visible:false,\\r\\n        },\\r\\n        arColor:['blue','red','yellow'],\\r\\n    }\\r\\n  },\\r\\n  mounted(){\\r\\n    this.$nextTick(function(){\\r\\n      layer=this.$refs.layer.getNode();\\r\\n      stage=this.$refs.stage.getNode();\\r\\n      window.addEventListener(\\\"resize\\\", this.fitStageIntoParentContainer);\\r\\n      this.fitStageIntoParentContainer();\\r\\n      let animate=this.createAnimate3();\\r\\n      animate.start();\\r\\n    })\\r\\n  },\\r\\n  created(){\\r\\n  },\\r\\n  methods:{\\r\\n\\r\\n    onGroup3Dragend(e){\\r\\n      this.msg={\\r\\n        p:{x:Math.floor(e.target.x()),y:Math.floor(e.target.y())}\\r\\n      }\\r\\n    },\\r\\n    onGroup3Click(){\\r\\n      let p1=this.myGetMouse();\\r\\n      let g=this.$refs.group3.getNode();\\r\\n      let p2={x:g.x(),y:g.y()};\\r\\n      let p3={\\r\\n        x:p1.x-p2.x,\\r\\n        y:p1.y-p2.y\\r\\n      }\\r\\n      this.msg={\\r\\n        p3:p3\\r\\n      }\\r\\n      let l=this.$refs.circle3.getNode().clone();\\r\\n      l.x(p3.x);\\r\\n      l.y(p3.y);\\r\\n      l.name('circle3');\\r\\n      l.setAttr(\\\"dx\\\",2);\\r\\n      l.setAttr(\\\"dy\\\",2);\\r\\n      g.add(l);\\r\\n      let len=layer.find('.circle3').length;\\r\\n      l.fill(this.arColor[len%3]);\\r\\n\\r\\n    },   \\r\\n    onGroup3move(e){\\r\\n      let p1=this.myGetMouse();\\r\\n      let g=this.$refs.group3.getNode();\\r\\n      let p2={x:g.x(),y:g.y()};\\r\\n      let p3={\\r\\n        x:p1.x-p2.x,\\r\\n        y:p1.y-p2.y\\r\\n      }\\r\\n      this.msg={\\r\\n        p3:p3\\r\\n      }\\r\\n    },    \\r\\n    circle3Move(s){\\r\\n      let dx=s.getAttr(\\\"dx\\\");\\r\\n      let dy=s.getAttr(\\\"dy\\\");\\r\\n      s.x( s.x() + dx );\\r\\n      s.y( s.y() + dy );\\r\\n    },\\r\\n    circle3ChamDung(s){\\r\\n      let m=this.$refs.main3.getNode();\\r\\n      let w=m.width();\\r\\n      let h=m.height();\\r\\n      let d= Math.abs(w-(s.x()+s.radius()));\\r\\n      return (s.x() < 0 || d < s.radius());\\r\\n    },\\r\\n    circle3ChamNgang(s){\\r\\n      let m=this.$refs.main3.getNode();\\r\\n      let w=m.width();\\r\\n      let h=m.height();\\r\\n      let d=h-(s.y()+s.radius());\\r\\n      return (s.y() < 0 || d<s.radius());\\r\\n    },\\r\\n    createAnimate3(){\\r\\n      let that=this;\\r\\n      var anim = new Konva.Animation(function (frame) {\\r\\n        let list=layer.find('.circle3');\\r\\n        //that.msg=list.length;\\r\\n        list.forEach((x)=>{\\r\\n          that.circle3Move(x);\\r\\n          if(that.circle3ChamDung(x)==true){\\r\\n            let dx=x.getAttr(\\\"dx\\\");\\r\\n            x.setAttr(\\\"dx\\\",(-1)*dx);\\r\\n            that.circle3Move(x);\\r\\n          }\\r\\n          if(that.circle3ChamNgang(x)==true){\\r\\n            let dy=x.getAttr(\\\"dy\\\");\\r\\n            x.setAttr(\\\"dy\\\",(-1)*dy);\\r\\n            that.circle3Move(x);\\r\\n          }\\r\\n\\r\\n        })\\r\\n      }, layer);\\r\\n      return anim;\\r\\n    },\\r\\n\\r\\n\\r\\n\\r\\n    onStageClick(e){\\r\\n    },\\r\\n    onStageMouseMove(e){\\r\\n    },\\r\\n    onStageMouseenter(e){\\r\\n    },\\r\\n    onStageMouseleave(e){\\r\\n    },\\r\\n    myGetMouse() {\\r\\n      let scale=stage.scale().x;\\r\\n      var mousePos = stage.getPointerPosition();\\r\\n      var x = mousePos.x;\\r\\n      var y = mousePos.y;\\r\\n      var xx = Math.round(x / scale);\\r\\n      var yy = Math.round(y / scale);\\r\\n      return { x: xx, y: yy };\\r\\n    },\\r\\n    fitStageIntoParentContainer() {\\r\\n      var container = document.querySelector('#stage-parent');\\r\\n      var containerWidth = container.offsetWidth;\\r\\n      var scale = containerWidth / sceneWidth;\\r\\n      stage.width(sceneWidth * scale);\\r\\n      stage.height(sceneHeight * scale);\\r\\n      stage.scale({ x: scale, y: scale });\\r\\n      this.configKonva.width = sceneWidth * scale;\\r\\n      this.configKonva.height = sceneHeight * scale;\\r\\n    },\\r\\n  }\\r\\n}\\r\\n</script>\\r\\n<style scoped>\\r\\n</style>\\r\\n\";"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticClass","ref","configKonva","on","onStageClick","onStageMouseMove","onStageMouseenter","onStageMouseleave","x","y","draggable","onGroup3Click","onGroup3Dragend","onGroup3move","width","height","fill","stroke","name","dx","dy","radius","strokeWidth","visible","_s","msg","staticRenderFns","sceneWidth","sceneHeight","stage","components","computed","data","configCircle","arColor","mounted","layer","window","animate","created","methods","e","p","p3","l","g","circle3Move","s","circle3ChamDung","circle3ChamNgang","createAnimate3","list","that","myGetMouse","fitStageIntoParentContainer","component","toObject","toAbsoluteIndex","lengthOfArrayLike","module","exports","value","O","length","argumentsLength","arguments","index","undefined","end","endPos","$forEach","arrayMethodIsStrict","STRICT_METHOD","forEach","callbackfn","fails","METHOD_NAME","argument","method","call","$","addToUnscopables","target","proto","$find","FIND","SKIPS_HOLES","Array","forced","find","global","DOMIterables","DOMTokenListPrototype","createNonEnumerableProperty","handlePrototype","CollectionPrototype","error","COLLECTION_NAME","prototype"],"sourceRoot":""}