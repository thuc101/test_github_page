(self["webpackChunkvue_start_1"]=self["webpackChunkvue_start_1"]||[]).push([[4837],{51878:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v("View images")]),n("b-row",{staticClass:"border-bottom mb-3"},e._l(e.ds,(function(t){return n("b-col",{key:t,attrs:{md:"1"}},[n("div",{staticClass:"border mb-2 position-relative bg-dark text-light",staticStyle:{height:"50px"}},[n("img",{attrs:{width:"100%",height:"50px",src:"/api/FileUpload/GetImage/"+t,alt:"Image 1"}}),n("span",{staticClass:"position-absolute",staticStyle:{bottom:"1px",right:"1px"}},[n("a",{attrs:{href:"#"},on:{click:function(n){return e.onDel(t)}}},[e._v("Del")])])])])})),1)],1)},r=[],i=n(77673),s=n(16198),l=n(9669),o=n.n(l),u={name:"HelloWorld",props:{msg:String},data:function(){return{ds:[]}},mounted:function(){this.loadListImg()},methods:{loadListImg:function(){var e=this;this.getListImg().then((function(t){e.ds=t.data}))},getListImg:function(){return(0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o().get("/api/FileUpload/GetListFile").catch((function(e){console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},onDel:function(e){var t=this;this.Del(e).then((function(e){t.loadListImg()}))},Del:function(e){return(0,s.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o().get("/api/FileUpload/Del/".concat(e)).catch((function(e){console.log(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}}},f=u,c=n(1001),d=(0,c.Z)(f,a,r,!1,null,null,null),p=d.exports},64837:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"MonHocToan"},[a("raw-loader",{attrs:{mytxt:n(5937).Z}}),a("h1",[e._v("UploadIformModel page")]),a("com-view-imag",{ref:"listImg"}),a("div",[a("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.onUpload.apply(null,arguments)}}},[a("img",{ref:"outImage",staticClass:"mb-1",attrs:{width:"50",height:"70"}}),a("br"),a("input",{ref:"Ten",attrs:{type:"text"}}),a("br"),a("input",{ref:"file",staticClass:"m-1",attrs:{type:"file",id:"file"},on:{change:e.onFileChange}}),a("br"),a("button",{staticClass:"mr-1",attrs:{type:"submit"}},[e._v("Upload")])])])],1)},r=[],i=(n(41539),n(38862),n(19755)),s=n.n(i),l=n(51878),o={name:"Tpl",components:{ComViewImag:l.Z},methods:{onFileChange:function(){var e=this,t=s()(this.$refs.file).get(0).files,n=t[0];this.getReadAsDataURL(n).then((function(t){s()(e.$refs.outImage).attr("src",t)}))},getReadAsDataURL:function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(){t(a.result)},a.onerror=n,a.readAsDataURL(e)}))},onUpload:function(){var e=s()(this.$refs.file).get(0).files.length;if(e<=0||""==s()(this.$refs.Ten).val())alert("ban chua chon file de upload or Ten is blank");else{for(var t=s()(this.$refs.file).get(0).files,n=new FormData,a=0;a<t.length;a++)n.append("File",t[a]);n.append("Ten",s()(this.$refs.Ten).val());var r=this;s().ajax({url:"/api/FileUpload/Upload3",type:"POST",contentType:!1,processData:!1,data:n,success:function(e){alert(JSON.stringify(e)),r.$refs.listImg.loadListImg(),s()(r.$refs.file).val(""),s()(r.$refs.outImage).attr("src",""),s()(r.$refs.Ten).val("")},error:function(e){alert(e.statusText)}})}}}},u=o,f=n(1001),c=(0,f.Z)(u,a,r,!1,null,null,null),d=c.exports},38862:function(e,t,n){var a=n(82109),r=n(35005),i=n(22104),s=n(46916),l=n(1702),o=n(47293),u=n(43157),f=n(60614),c=n(70111),d=n(52190),p=n(50206),m=n(30133),h=r("JSON","stringify"),g=l(/./.exec),v=l("".charAt),w=l("".charCodeAt),b=l("".replace),$=l(1..toString),D=/[\uD800-\uDFFF]/g,y=/^[\uD800-\uDBFF]$/,F=/^[\uDC00-\uDFFF]$/,I=!m||o((function(){var e=r("Symbol")();return"[null]"!=h([e])||"{}"!=h({a:e})||"{}"!=h(Object(e))})),U=o((function(){return'"\\udf06\\ud834"'!==h("\udf06\ud834")||'"\\udead"'!==h("\udead")})),T=function(e,t){var n=p(arguments),a=t;if((c(t)||void 0!==e)&&!d(e))return u(t)||(t=function(e,t){if(f(a)&&(t=s(a,this,e,t)),!d(t))return t}),n[1]=t,i(h,null,n)},x=function(e,t,n){var a=v(n,t-1),r=v(n,t+1);return g(y,e)&&!g(F,r)||g(F,e)&&!g(y,a)?"\\u"+$(w(e,0),16):e};h&&a({target:"JSON",stat:!0,arity:3,forced:I||U},{stringify:function(e,t,n){var a=p(arguments),r=i(I?T:h,null,a);return U&&"string"==typeof r?b(r,D,x):r}})},5937:function(e,t){"use strict";t["Z"]='<template>\n  <div class="MonHocToan">\n    <raw-loader :mytxt="require(\'!raw-loader!./UploadIformModel.vue\').default"></raw-loader>\n    <h1>UploadIformModel page</h1>\n    <com-view-imag ref="listImg"></com-view-imag>\n    <div>\n      <form enctype="multipart/form-data" @submit.stop.prevent="onUpload">\n        <img ref="outImage" class="mb-1" width="50" height="70" /><br>\n        <input type="text" ref="Ten" ><br>\n        <input type="file" id="file" ref="file" class="m-1" @change="onFileChange" /><br>\n        <button type="submit" class="mr-1">Upload</button>\n      </form>\n    </div>\n  </div>\n</template>\n<script>\nimport $ from "jquery";\nimport ComViewImag from "./ComViewImage.vue"\nexport default {\n  name: \'Tpl\',\n  components: {\n    ComViewImag\n  },\n  methods: {\n    onFileChange() {\n      let files=$(this.$refs.file).get(0).files;\n      let file=files[0];\n      this.getReadAsDataURL(file).then(res=>{\n        $(this.$refs.outImage).attr("src",res);\n        // alert(res);\n        // data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAUDBAQEAwUEBAQFBQUGBwwIBwcHBw8LCwkMEQ8SEhEPERETFhwX  \n      })\n    },\n    getReadAsDataURL(file) {\n      return new Promise((resolve, reject) => {\n        let reader = new FileReader();\n        reader.onload = () => {\n          resolve(reader.result);\n        };\n        reader.onerror = reject;\n        reader.readAsDataURL(file);\n      });\n    },\n    onUpload() {\n      let len = $(this.$refs.file).get(0).files.length;\n      if ( len <= 0 || $(this.$refs.Ten).val() == \'\'  ) {\n        alert(\'ban chua chon file de upload or Ten is blank\');\n        return;\n      }\n      let files=$(this.$refs.file).get(0).files;\n      var fileData = new FormData();\n      for (var i = 0; i < files.length; i++) {\n        fileData.append("File", files[i]);\n      }\n      fileData.append("Ten", $(this.$refs.Ten).val());\n      let that = this;\n      $.ajax({\n        url: "/api/FileUpload/Upload3", ///Home/UploadFiles\n        type: "POST",\n        contentType: false, // Not to set any content header\n        processData: false, // Not to process data\n        data: fileData,\n        success: function (result) {\n          alert(JSON.stringify(result));\n          that.$refs.listImg.loadListImg();\n          $(that.$refs.file).val("");\n          $(that.$refs.outImage).attr("src",\'\');\n          $(that.$refs.Ten).val("");\n        },\n        error: function (err) {\n          alert(err.statusText);\n        },\n      });\n  }\n}\n}\n<\/script>\n'}}]);
//# sourceMappingURL=4837-legacy.771bbbd9.js.map