"use strict";(self["webpackChunkvue_start_1"]=self["webpackChunkvue_start_1"]||[]).push([[2168],{12168:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r,i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("raw-loader",{attrs:{mytxt:n(87158).Z}}),r("h1",[e._v("This is Role claim3")]),r("b-row",[r("b-col",{attrs:{md:"5"}},[r("b-img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTZMFvrF7BTAIoBIYRHAf41FagYDpQQ3MUA1w&usqp=CAU","fluid-grow":"",alt:"Responsive image"}})],1),r("b-col",{attrs:{md:"7"}},e._l(e.listRoles,(function(t,n){return r("div",{key:n},[r("h5",{staticClass:"border-bottom"},[e._v(e._s(t))]),r("mycom",{attrs:{role:t}})],1)})),0)],1)],1)},a=[],s=n(77673),o=n(16198),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{on:{click:e.OnAdd}},[e._v("Add")]),n("form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.onSave.apply(null,arguments)}}},[n("b-table",{ref:"mytable",attrs:{small:"",items:e.myProvider,fields:e.fields},scopedSlots:e._u([{key:"cell()",fn:function(t){var r=t.value,i=t.item,a=t.field.key;return[e.sel[e.pri]!=i[e.pri]?[0!=i[e.pri]?[a==e.pri?[e._v(" "+e._s(r)+" ")]:e._e(),"Role"==a?[e._v(" "+e._s(r)+" ")]:e._e(),"ClaimType"==a?[e._v(" "+e._s(r)+" ")]:e._e(),"ClaimName"==a?[e._v(" "+e._s(r)+" ")]:e._e(),"Act"==a?[n("b-form-checkbox",{staticClass:"my-checkbox",attrs:{disabled:!0,name:a,value:"true","unchecked-value":"false"},model:{value:i[a],callback:function(t){e.$set(i,a,t)},expression:"item[key]"}})]:e._e()]:e._e()]:e._e(),e.sel[e.pri]==i[e.pri]||0==i[e.pri]?[a==e.pri?[n("span",[e._v(e._s(r))])]:e._e(),"Role"==a?[n("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"ko-hop-le":e.errors.has(a)},attrs:{autocomplete:"off",name:a,placeholder:""},model:{value:i[a],callback:function(t){e.$set(i,a,t)},expression:"item[key]"}})]:e._e(),"ClaimType"==a?[n("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{danger:e.errors.has(a)},attrs:{name:a,reduce:function(e){return e.id},options:e.ClaimTypes,"has-error":e.errors.has(a)},model:{value:i[a],callback:function(t){e.$set(i,a,t)},expression:"item[key]"}})]:e._e(),"ClaimName"==a?[n("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{danger:e.errors.has(a)},attrs:{name:a,reduce:function(e){return e.id},options:e.ClaimNames,"has-error":e.errors.has(a)},model:{value:i[a],callback:function(t){e.$set(i,a,t)},expression:"item[key]"}})]:e._e(),"Act"==a?[n("b-form-checkbox",{staticClass:"my-checkbox",attrs:{name:a,value:"true","unchecked-value":"false"},model:{value:i[a],callback:function(t){e.$set(i,a,t)},expression:"item[key]"}})]:e._e()]:e._e()]}},{key:"cell(cmd)",fn:function(t){return[0==t.item[e.pri]?[n("b-button",{staticClass:"mr-1",attrs:{variant:"outline",size:"sm"},on:{click:function(n){return e.OnSave(t.item)}}},[n("b-icon-hand-thumbs-up")],1),n("b-button",{staticClass:"mr-1",attrs:{variant:"outline",size:"sm"},on:{click:function(n){return e.OnCancel(t.item)}}},[n("b-icon-file-x")],1)]:[e.sel[e.pri]!=t.item[e.pri]?n("b-button",{staticClass:"mr-1",attrs:{variant:"outline",size:"sm"},on:{click:function(n){return e.OnEdit(t.item)}}},[n("b-icon-pencil-square")],1):e._e(),e.sel[e.pri]!=t.item[e.pri]?n("b-button",{staticClass:"mr-1",attrs:{variant:"outline",size:"sm"},on:{click:function(n){return e.OnDel(t.item)}}},[n("b-icon-trash")],1):e._e(),e.sel[e.pri]==t.item[e.pri]?n("b-button",{staticClass:"mr-1",attrs:{variant:"outline",size:"sm"},on:{click:function(n){return e.OnSave(t.item)}}},[n("b-icon-hand-thumbs-up")],1):e._e(),e.sel[e.pri]==t.item[e.pri]?n("b-button",{staticClass:"mr-1",attrs:{variant:"outline",size:"sm"},on:{click:function(n){return e.OnCancel(t.item)}}},[n("b-icon-file-x")],1):e._e()]]}}])})],1)])},c=[],u=n(23796),m=(n(92222),n(34553),n(40561),n(38862),n(12954)),d=n(20144),f=n(19938),h=n.n(f),p=n(53009),v=n(70790);d["default"].use(m.ZP,{classes:!0,fieldsBagName:"veeFields"}),d["default"].component("v-select",h());var b=(r={props:["role"],components:{},mounted:function(){},data:function(){return{pri:"Id",sel:{},adding:!1,ClaimTypes:[],ClaimNames:[],url:"/api/RoleClaim4",items:[{Id:1,Ten:"thuc 101"},{Id:2,Ten:"thuc 102"},{Id:3,Ten:"thuc 103"},{Id:4,Ten:"thuc 104"}],fields:[{key:"Id",sortable:!0,thClass:"text-center",tdClass:"align-middle",thStyle:{width:"8%"}},{key:"ClaimType",sortable:!0,thClass:"text-left",tdClass:"align-middle",thStyle:{width:"30%"}},{key:"ClaimName",sortable:!0,thClass:"text-left",tdClass:"align-middle",thStyle:{width:"30%"}},{key:"Act",sortable:!0,thClass:"text-left",tdClass:"align-middle",thStyle:{width:"10%"}},{key:"Cmd",sortable:!0,thClass:"text-center",tdClass:"align-middle text-center",thStyle:{width:"22%"}}]}}},(0,u.Z)(r,"mounted",(function(){})),(0,u.Z)(r,"methods",{myProvider:function(){var e=this,t="".concat(this.url,"/GetListByRole?role=").concat(this.role);return v.Z.get(t).then((function(t){if(e.GetComboClaimType(),e.GetComboClaimName(),1==e.adding){var n={};n[e.pri]=0,n["Role"]=e.role,n["ClaimType"]=null,n["ClaimName"]=null,n["Act"]=!0,t.data.unshift(n)}return t.data}))},OnAdd:function(){this.adding=!0,this.$refs.mytable.refresh()},doCancel:function(e){for(var t in e)e[t]!=this.sel[t]&&(e[t]=this.sel[t])},OnCancel:function(e){var t=this;if(0==e[this.pri]){var n=this.items.findIndex((function(n){return n[t.pri]==e[t.pri]}));this.items.splice(n,1),this.adding=!1,this.$refs.mytable.refresh()}else this.doCancel(e),this.sel={}},OnEdit:function(e){this.sel=JSON.parse(JSON.stringify(e))},OnDel:function(e){this.Del(e[this.pri])},OnSave:function(e){var t=this;this.$validator.validateAll().then((function(n){if(n){var r=JSON.parse(JSON.stringify(e));0==r[t.pri]?t.Add(r):t.Update(r)}else t.toast("Không hợp lệ")}))},toast:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$bvToast.toast(e,{title:"Information",variant:t,solid:!0})},Add:function(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,v.Z.post("".concat(t.url,"/Add"),e).then((function(e){t.toast("".concat(e.data.msg)),t.adding=!1,t.$refs.mytable.refresh()})).catch((function(e){p.Z.XuLyErr(e)}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},Update:function(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,v.Z.post("".concat(t.url,"/Update"),e).then((function(e){t.sel={},t.$refs.mytable.refresh()})).catch((function(e){p.Z.XuLyErr(e)}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},Del:function(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,v.Z.get("".concat(t.url,"/Delete?id=").concat(e)).then((function(e){t.$refs.mytable.refresh()})).catch((function(e){p.Z.XuLyErr(e)}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},getById:function(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,v.Z.get("".concat(t.url,"/GetById?id=").concat(e)).then((function(e){alert(JSON.stringify(e))})).catch((function(e){p.Z.XuLyErr(e)}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},GetComboClaimType:function(){var e=this;return(0,o.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.Z.get("/api/NguoiDung4/GetComboClaimType").then((function(t){e.ClaimTypes=t.data})).catch((function(e){p.Z.XuLyErr(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},GetComboClaimName:function(){var e=this;return(0,o.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.Z.get("/api/NguoiDung4/GetComboClaimName").then((function(t){e.ClaimNames=t.data})).catch((function(e){p.Z.XuLyErr(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}}),r),y=b,g=n(1001),C=(0,g.Z)(y,l,c,!1,null,null,null),k=C.exports,w={components:{mycom:k},mounted:function(){this.ListRole()},data:function(){return{listRoles:[],ds:[]}},methods:{getChild:function(e){},ListRole:function(){var e=this;return(0,o.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.Z.get("/api/RoleClaim4/GetListRole").then((function(t){e.listRoles=t.data})).catch((function(e){p.Z.XuLyErr(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}}},x=w,Z=(0,g.Z)(x,i,a,!1,null,null,null),_=Z.exports},92222:function(e,t,n){var r=n(82109),i=n(17854),a=n(47293),s=n(43157),o=n(70111),l=n(47908),c=n(26244),u=n(86135),m=n(65417),d=n(81194),f=n(5112),h=n(7392),p=f("isConcatSpreadable"),v=9007199254740991,b="Maximum allowed index exceeded",y=i.TypeError,g=h>=51||!a((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),C=d("concat"),k=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:s(e)},w=!g||!C;r({target:"Array",proto:!0,arity:1,forced:w},{concat:function(e){var t,n,r,i,a,s=l(this),o=m(s,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?s:arguments[t],k(a)){if(i=c(a),d+i>v)throw y(b);for(n=0;n<i;n++,d++)n in a&&u(o,d,a[n])}else{if(d>=v)throw y(b);u(o,d++,a)}return o.length=d,o}})},34553:function(e,t,n){var r=n(82109),i=n(42092).findIndex,a=n(51223),s="findIndex",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),r({target:"Array",proto:!0,forced:o},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},40561:function(e,t,n){var r=n(82109),i=n(17854),a=n(51400),s=n(19303),o=n(26244),l=n(47908),c=n(65417),u=n(86135),m=n(81194),d=m("splice"),f=i.TypeError,h=Math.max,p=Math.min,v=9007199254740991,b="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var n,r,i,m,d,y,g=l(this),C=o(g),k=a(e,C),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=C-k):(n=w-2,r=p(h(s(t),0),C-k)),C+n-r>v)throw f(b);for(i=c(g,r),m=0;m<r;m++)d=k+m,d in g&&u(i,m,g[d]);if(i.length=r,n<r){for(m=k;m<C-r;m++)d=m+r,y=m+n,d in g?g[y]=g[d]:delete g[y];for(m=C;m>C-r+n;m--)delete g[m-1]}else if(n>r)for(m=C-r;m>k;m--)d=m+r-1,y=m+n-1,d in g?g[y]=g[d]:delete g[y];for(m=0;m<n;m++)g[m+k]=arguments[m+2];return g.length=C-r+n,i}})},87158:function(e,t){t["Z"]='<template>\r\n    <div class="home">\r\n        <raw-loader :mytxt="require(\'!raw-loader!./RoleClaim.vue\').default"></raw-loader>\r\n        <h1>This is Role claim3</h1>\r\n        <b-row>\r\n            <b-col md="5">\r\n                <b-img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTZMFvrF7BTAIoBIYRHAf41FagYDpQQ3MUA1w&usqp=CAU" fluid-grow alt="Responsive image"></b-img>   \r\n            </b-col>\r\n            <b-col md="7">\r\n                <div v-for="(v,k) in listRoles" :key="k"> \r\n                    <h5 class="border-bottom">{{ v }}</h5>\r\n                    <mycom :role="v"></mycom>\r\n                </div>\r\n            </b-col>\r\n        </b-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport mycom from "@/views/NguoiDung/RoleClaimCom.vue"\r\nimport fetchClient from \'@/fetchClient\'\r\nimport TumLum from \'@/TumLum\'\r\nexport default {\r\n    components: {\r\n        mycom\r\n    },\r\n    mounted(){\r\n        this.ListRole();\r\n    },\r\n    data(){\r\n        return{\r\n            listRoles:[],\r\n            ds:[]\r\n        }\r\n    },\r\n    methods: {\r\n        getChild(Role){\r\n\r\n        },\r\n        async ListRole(){\r\n            return await fetchClient.get(`/api/RoleClaim4/GetListRole`)\r\n            .then(res=>{\r\n                this.listRoles=res.data;\r\n                //alert(JSON.stringify(res));\r\n                //{"data":["Admin","ChuQuan","NhanVien","User","PhaChe","KeToan","Umbala"],"status"\r\n            }).catch(err=>{\r\n                TumLum.XuLyErr(err);\r\n            })\r\n        },\r\n    }\r\n}\r\n<\/script>\r\n  '},53009:function(e,t,n){n(38862);t["Z"]={XuLyErr:function(e){var t=JSON.parse(JSON.stringify(e)).status;if(400==t){var n=JSON.parse(JSON.stringify(e.response)).data.message;alert(n)}else e.response?401==e.response.status?alert("Chưa đăng nhập hoặc token hết hạn"):403==e.response.status&&alert("Bạn ko có quyền"):e.request?alert(JSON.stringify(e.request)):e.message&&alert(JSON.stringify(e.message))}}},70790:function(e,t,n){var r=n(9669),i=n.n(r),a=function(){var e={baseURL:"",method:"get",headers:{"Content-Type":"application/json;charset=utf-8"}},t=i().create(e);return t.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.Authorization=t?"Bearer ".concat(t):"",e})),t};t["Z"]=a()},23796:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=2168-legacy.99e9791f.js.map