(self["webpackChunkvue_start_1"]=self["webpackChunkvue_start_1"]||[]).push([[3116],{76306:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return g}});var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"MonHocToan"},[r("raw-loader",{attrs:{mytxt:n(14173).Z}}),r("h1",[t._v("AxiosUploadBase64 page")]),r("div",[r("b-row",[r("b-col",{staticClass:"border-right",attrs:{md:"3"}},[r("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onUpload.apply(null,arguments)}}},[r("b-img",{ref:"output",attrs:{fluid:"",alt:"Responsive image"}}),r("br"),r("input",{ref:"file",staticClass:"m-1",attrs:{type:"file",id:"file"},on:{change:t.onFileChange}}),r("br"),r("div",[r("button",{staticClass:"mr-1",attrs:{type:"submit"}},[t._v("Upload")]),r("button",{staticClass:"mr-1",on:{click:t.onRemove}},[t._v("Remove")])])],1)]),r("b-col",{attrs:{md:"9"}},[r("com-view-imag",{ref:"listImg"})],1)],1)],1)],1)},a=[],o=n(77673),i=n(16198),s=(n(41539),n(19755)),l=n.n(s),u=n(9669),c=n.n(u),f=n(51878),d={name:"Tpl",components:{ComViewImag:f.Z},methods:{onUpload:function(){var t=this.$refs.file.files;if(0!=t.length){var e=t[0],n=this;this.getReadAsDataURL(e).then((function(t){var e=new FormData;e.append("base64",t),n.UploadAxios2(e).then((function(t){n.$refs.listImg.loadListImg(),l()(n.$refs.output).attr("src",""),l()(n.$refs.file).val("")}))}))}},onFileChange:function(){var t=this,e=this.$refs.file.files,n=e[0];this.getReadAsDataURL(n).then((function(e){l()(t.$refs.output).attr("src",e)}))},onRemove:function(){l()(this.$refs.output).attr("src",""),l()(this.$refs.file).val("")},getReadAsDataURL:function(t){return new Promise((function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsDataURL(t)}))},UploadAxios:function(t){return(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c().post("/api/FileUpload/UploadAxios",t).catch((function(t){console.log(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},UploadAxios2:function(t){return(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c().post("/api/FileUpload/UploadAxios2",t).catch((function(t){console.log(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}}},p=d,m=n(1001),h=(0,m.Z)(p,r,a,!1,null,null,null),g=h.exports},51878:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v("View images")]),n("b-row",{staticClass:"border-bottom mb-3"},t._l(t.ds,(function(e){return n("b-col",{key:e,attrs:{md:"1"}},[n("div",{staticClass:"border mb-2 position-relative bg-dark text-light",staticStyle:{height:"50px"}},[n("img",{attrs:{width:"100%",height:"50px",src:"/api/FileUpload/GetImage/"+e,alt:"Image 1"}}),n("span",{staticClass:"position-absolute",staticStyle:{bottom:"1px",right:"1px"}},[n("a",{attrs:{href:"#"},on:{click:function(n){return t.onDel(e)}}},[t._v("Del")])])])])})),1)],1)},a=[],o=n(77673),i=n(16198),s=n(9669),l=n.n(s),u={name:"HelloWorld",props:{msg:String},data:function(){return{ds:[]}},mounted:function(){this.loadListImg()},methods:{loadListImg:function(){var t=this;this.getListImg().then((function(e){t.ds=e.data}))},getListImg:function(){return(0,i.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l().get("/api/FileUpload/GetListFile").catch((function(t){console.log(t)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},onDel:function(t){var e=this;this.Del(t).then((function(t){e.loadListImg()}))},Del:function(t){return(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l().get("/api/FileUpload/Del/".concat(t)).catch((function(t){console.log(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}}},c=u,f=n(1001),d=(0,f.Z)(c,r,a,!1,null,null,null),p=d.exports},38862:function(t,e,n){var r=n(82109),a=n(35005),o=n(22104),i=n(46916),s=n(1702),l=n(47293),u=n(43157),c=n(60614),f=n(70111),d=n(52190),p=n(50206),m=n(30133),h=a("JSON","stringify"),g=s(/./.exec),v=s("".charAt),b=s("".charCodeAt),w=s("".replace),x=s(1..toString),U=/[\uD800-\uDFFF]/g,D=/^[\uD800-\uDBFF]$/,$=/^[\uDC00-\uDFFF]$/,F=!m||l((function(){var t=a("Symbol")();return"[null]"!=h([t])||"{}"!=h({a:t})||"{}"!=h(Object(t))})),R=l((function(){return'"\\udf06\\ud834"'!==h("\udf06\ud834")||'"\\udead"'!==h("\udead")})),A=function(t,e){var n=p(arguments),r=e;if((f(e)||void 0!==t)&&!d(t))return u(e)||(e=function(t,e){if(c(r)&&(e=i(r,this,t,e)),!d(e))return e}),n[1]=e,o(h,null,n)},C=function(t,e,n){var r=v(n,e-1),a=v(n,e+1);return g(D,t)&&!g($,a)||g($,t)&&!g(D,r)?"\\u"+x(b(t,0),16):t};h&&r({target:"JSON",stat:!0,arity:3,forced:F||R},{stringify:function(t,e,n){var r=p(arguments),a=o(F?A:h,null,r);return R&&"string"==typeof a?w(a,U,C):a}})},14173:function(t,e){"use strict";e["Z"]='<template>\n  <div class="MonHocToan">\n    <raw-loader :mytxt="require(\'!raw-loader!./AxiosUploadBase64.vue\').default"></raw-loader>\n    <h1>AxiosUploadBase64 page</h1>\n    <div>\n      <b-row>\n        <b-col md="3" class="border-right">\n          <form enctype="multipart/form-data" @submit.stop.prevent="onUpload">\n            <b-img ref="output" fluid alt="Responsive image"></b-img><br>\n            <input type="file" id="file" ref="file" class="m-1" @change="onFileChange" /><br>\n            <div>\n              <button type="submit" class="mr-1">Upload</button>\n              <button @click="onRemove" class="mr-1">Remove</button>\n            </div>\n          </form>\n        </b-col>\n        <b-col md="9">\n          <com-view-imag ref="listImg"></com-view-imag>\n        </b-col>\n      </b-row>\n    </div>\n  </div>\n</template>\n<script>\nimport $ from "jquery"\nimport axios from "axios";\nimport ComViewImag from "./ComViewImage.vue";\nexport default {\n  name: \'Tpl\',\n  components: {\n    ComViewImag\n  },\n  methods: {\n\n    onUpload() {\n      let files = this.$refs.file.files;\n      if (files.length == 0) return;\n      let file = files[0];\n      let that = this;\n      this.getReadAsDataURL(file).then((res) => {\n        let fd = new FormData();\n        fd.append("base64", res);\n        that.UploadAxios2(fd).then(res2 => {\n          that.$refs.listImg.loadListImg();\n          $(that.$refs.output).attr("src", "");\n          $(that.$refs.file).val("");\n        })\n      });\n    },\n    onFileChange() {\n      let files = this.$refs.file.files;\n      let file = files[0];\n      this.getReadAsDataURL(file).then((res) => {\n        $(this.$refs.output).attr("src", res);\n      });\n    },\n    onRemove() {\n      $(this.$refs.output).attr("src", "");\n      $(this.$refs.file).val("");\n    },\n    getReadAsDataURL(file) {\n      return new Promise((resolve, reject) => {\n        let reader = new FileReader();\n        reader.onload = () => {\n          resolve(reader.result);\n        };\n        reader.onerror = reject;\n        reader.readAsDataURL(file);\n      });\n    },\n    async UploadAxios(formData) {\n      return await axios\n        .post(`/api/FileUpload/UploadAxios`, formData)\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    async UploadAxios2(formData) {\n      return await axios\n        .post(`/api/FileUpload/UploadAxios2`, formData)\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n\n\n  }\n}\n<\/script>\n'}}]);
//# sourceMappingURL=3116-legacy.22b27f8a.js.map