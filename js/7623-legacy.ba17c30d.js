"use strict";(self["webpackChunkvue_start_1"]=self["webpackChunkvue_start_1"]||[]).push([[7623],{57623:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r,i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("raw-loader",{attrs:{mytxt:n(80158).Z}}),r("h5",[e._v("This is BTable Simple")]),r("div",[e._v(e._s(e.sel))]),r("button",{on:{click:e.OnAdd}},[e._v("Add")]),r("form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.onSave.apply(null,arguments)}}},[r("b-table",{ref:"mytable",attrs:{small:"",items:e.items,fields:e.fields},scopedSlots:e._u([{key:"cell()",fn:function(t){var n=t.value,i=t.item,s=t.field.key;return[e.sel[e.pri]!=i[e.pri]?[0!=i[e.pri]?[s==e.pri?[e._v(" "+e._s(n)+" ")]:e._e(),"Ten"==s?[e._v(" "+e._s(n)+" ")]:e._e()]:e._e()]:e._e(),e.sel[e.pri]==i[e.pri]||0==i[e.pri]?[s==e.pri?[r("span",[e._v(e._s(n))])]:e._e(),"Ten"==s?[r("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"ko-hop-le":e.errors.has(s)},attrs:{autocomplete:"off",name:s,placeholder:""},model:{value:i[s],callback:function(t){e.$set(i,s,t)},expression:"item[key]"}})]:e._e()]:e._e()]}},{key:"cell(cmd)",fn:function(t){return[0==t.item[e.pri]?[r("b-button",{staticClass:"mr-1",attrs:{variant:"outline",size:"sm"},on:{click:function(n){return e.OnSave(t.item)}}},[r("b-icon-hand-thumbs-up")],1),r("b-button",{staticClass:"mr-1",attrs:{variant:"outline",size:"sm"},on:{click:function(n){return e.OnCancel(t.item)}}},[r("b-icon-file-x")],1)]:[e.sel[e.pri]!=t.item[e.pri]?r("b-button",{staticClass:"mr-1",attrs:{variant:"outline",size:"sm"},on:{click:function(n){return e.OnEdit(t.item)}}},[r("b-icon-pencil-square")],1):e._e(),e.sel[e.pri]!=t.item[e.pri]?r("b-button",{staticClass:"mr-1",attrs:{variant:"outline",size:"sm"},on:{click:function(n){return e.OnDel(t.item)}}},[r("b-icon-trash")],1):e._e(),e.sel[e.pri]==t.item[e.pri]?r("b-button",{staticClass:"mr-1",attrs:{variant:"outline",size:"sm"},on:{click:function(n){return e.OnSave(t.item)}}},[r("b-icon-hand-thumbs-up")],1):e._e(),e.sel[e.pri]==t.item[e.pri]?r("b-button",{staticClass:"mr-1",attrs:{variant:"outline",size:"sm"},on:{click:function(n){return e.OnCancel(t.item)}}},[r("b-icon-file-x")],1):e._e()]]}}])})],1)],1)},s=[],l=n(23796),a=(n(34553),n(40561),n(38862),n(12954)),o=n(20144),m=n(19938),u=n.n(m);o["default"].use(a.ZP,{classes:!0,fieldsBagName:"veeFields"}),o["default"].component("v-select",u());var c=(r={props:["ds1"],components:{},mounted:function(){},data:function(){return{pri:"Id",sel:{},items:[{Id:1,Ten:"thuc 101"},{Id:2,Ten:"thuc 102"},{Id:3,Ten:"thuc 103"},{Id:4,Ten:"thuc 104"}],fields:[{key:"Id",sortable:!0,thClass:"text-center",tdClass:"align-middle",thStyle:{width:"8%"}},{key:"Ten",sortable:!0,thClass:"text-left",tdClass:"align-middle",thStyle:{width:"60%"}},{key:"Cmd",sortable:!0,thClass:"text-center",tdClass:"align-middle text-center",thStyle:{width:"12%"}}]}}},(0,l.Z)(r,"mounted",(function(){})),(0,l.Z)(r,"methods",{OnAdd:function(){var e={Id:0,Ten:"Thức"};this.items.unshift(e),this.$refs.mytable.refresh()},doCancel:function(e){for(var t in e)e[t]!=this.sel[t]&&(e[t]=this.sel[t])},OnCancel:function(e){var t=this;if(0==e[this.pri]){var n=this.items.findIndex((function(n){return n[t.pri]==e[t.pri]}));this.items.splice(n,1),this.adding=!1,this.$refs.mytable.refresh()}else this.doCancel(e),this.sel={}},OnEdit:function(e){this.sel=JSON.parse(JSON.stringify(e))},OnDel:function(e){alert(JSON.stringify(e))},OnSave:function(e){var t=this;this.$validator.validateAll().then((function(n){if(n){var r=JSON.parse(JSON.stringify(e));0==r[t.pri]?(alert("Add r ".concat(JSON.stringify(r))),t.$refs.mytable.refresh()):(alert("Update r ".concat(JSON.stringify(r))),t.sel={})}else t.toast("Không hợp lệ")}))},toast:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$bvToast.toast(e,{title:"Information",variant:t,solid:!0})}}),r),d=c,f=n(1001),p=(0,f.Z)(d,i,s,!1,null,null,null),h=p.exports},86135:function(e,t,n){var r=n(34948),i=n(3070),s=n(79114);e.exports=function(e,t,n){var l=r(t);l in e?i.f(e,l,s(0,n)):e[l]=n}},34553:function(e,t,n){var r=n(82109),i=n(42092).findIndex,s=n(51223),l="findIndex",a=!0;l in[]&&Array(1)[l]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s(l)},40561:function(e,t,n){var r=n(82109),i=n(17854),s=n(51400),l=n(19303),a=n(26244),o=n(47908),m=n(65417),u=n(86135),c=n(81194),d=c("splice"),f=i.TypeError,p=Math.max,h=Math.min,v=9007199254740991,b="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var n,r,i,c,d,y,k=o(this),O=a(k),g=s(e,O),S=arguments.length;if(0===S?n=r=0:1===S?(n=0,r=O-g):(n=S-2,r=h(p(l(t),0),O-g)),O+n-r>v)throw f(b);for(i=m(k,r),c=0;c<r;c++)d=g+c,d in k&&u(i,c,k[d]);if(i.length=r,n<r){for(c=g;c<O-r;c++)d=c+r,y=c+n,d in k?k[y]=k[d]:delete k[y];for(c=O;c>O-r+n;c--)delete k[c-1]}else if(n>r)for(c=O-r;c>g;c--)d=c+r-1,y=c+n-1,d in k?k[y]=k[d]:delete k[y];for(c=0;c<n;c++)k[c+g]=arguments[c+2];return k.length=O-r+n,i}})},80158:function(e,t){t["Z"]='<template>\r\n    <div>\r\n        <raw-loader :mytxt="require(\'!raw-loader!./BTableSimple.vue\').default"></raw-loader>\r\n        <h5>This is BTable Simple</h5>\r\n        <div>{{ sel }}</div>\r\n        <button @click="OnAdd">Add</button>\r\n        <form @submit.stop.prevent="onSave">\r\n            <b-table ref="mytable" small :items="items" :fields="fields">\r\n                <template v-slot:cell()="{ value, item, field: { key } }">\r\n\r\n                    <template v-if="sel[pri] != item[pri]">\r\n                        <template v-if="item[pri] != 0">\r\n                            <template v-if="key == pri">\r\n                                {{ value }}\r\n                            </template>\r\n                            <template v-if="key == \'Ten\'">\r\n                                {{ value }}\r\n                            </template>\r\n                        </template>\r\n                    </template>\r\n                    <template v-if="(sel[pri] == item[pri] || item[pri] == 0)">\r\n                        <template v-if="key == pri">\r\n                            <span>{{ value }}</span>\r\n                        </template>\r\n                        <template v-if="key == \'Ten\'">\r\n                            <b-form-input autocomplete="off" v-model="item[key]" :name="key" v-validate="\'required\'"\r\n                                placeholder="" :class="{ \'ko-hop-le\': errors.has(key) }">\r\n                            </b-form-input>\r\n                        </template>\r\n                    </template>\r\n\r\n\r\n                </template>\r\n                <template #cell(cmd)="row">\r\n                    <template v-if="row.item[pri] == 0">\r\n                        <b-button variant="outline" class="mr-1" size="sm" @click="OnSave(row.item)">\r\n                            <b-icon-hand-thumbs-up></b-icon-hand-thumbs-up>\r\n                        </b-button>\r\n                        <b-button variant="outline" class="mr-1" size="sm" @click="OnCancel(row.item)">\r\n                            <b-icon-file-x></b-icon-file-x>\r\n                        </b-button>\r\n                    </template>\r\n\r\n                    <template v-else>\r\n                        <b-button variant="outline" class="mr-1" v-if="sel[pri] != row.item[pri]" size="sm"\r\n                            @click="OnEdit(row.item)">\r\n                            <b-icon-pencil-square></b-icon-pencil-square>\r\n                        </b-button>\r\n                        <b-button variant="outline" class="mr-1" v-if="sel[pri] != row.item[pri]" size="sm"\r\n                            @click="OnDel(row.item)">\r\n                            <b-icon-trash></b-icon-trash>\r\n                        </b-button>\r\n                        <b-button variant="outline" class="mr-1" v-if="sel[pri] == row.item[pri]" size="sm"\r\n                            @click="OnSave(row.item)">\r\n                            <b-icon-hand-thumbs-up></b-icon-hand-thumbs-up>\r\n                        </b-button>\r\n                        <b-button variant="outline" class="mr-1" v-if="sel[pri] == row.item[pri]" size="sm"\r\n                            @click="OnCancel(row.item)">\r\n                            <b-icon-file-x></b-icon-file-x>\r\n                        </b-button>\r\n                    </template>\r\n                </template>\r\n            </b-table>\r\n        </form>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport VeeValidate from "vee-validate";\r\nimport Vue from "vue";\r\nVue.use(VeeValidate, {\r\n    classes: true,\r\n    fieldsBagName: \'veeFields\'\r\n});\r\nimport vSelect from "vue-select";\r\nVue.component("v-select", vSelect);\r\n\r\n\r\nexport default {\r\n    props: ["ds1"],\r\n    components: {\r\n    },\r\n    mounted() {\r\n    },\r\n    data() {\r\n        return {\r\n            pri: "Id",\r\n            sel: {},\r\n            items: [\r\n                { Id: 1, Ten: "thuc 101" },\r\n                { Id: 2, Ten: "thuc 102" },\r\n                { Id: 3, Ten: "thuc 103" },\r\n                { Id: 4, Ten: "thuc 104" },\r\n            ],\r\n            fields: [\r\n                { key: \'Id\', sortable: true, thClass: \'text-center\', tdClass: \'align-middle\', thStyle: { width: "8%" } },\r\n                //{ key: \'ClaimType\', sortable: true, thClass: \'text-left\', tdClass: \'align-middle\', thStyle: { width: "80%" } },\r\n                { key: \'Ten\', sortable: true, thClass: \'text-left\', tdClass: \'align-middle\', thStyle: { width: "60%" } },\r\n                { key: \'Cmd\', sortable: true, thClass: \'text-center\', tdClass: \'align-middle text-center\', thStyle: { width: "12%" } },\r\n            ]\r\n        }\r\n    },\r\n    mounted(){\r\n    },\r\n    methods: {\r\n        OnAdd() {\r\n            let r = {\r\n                Id: 0,\r\n                Ten: \'Thức\',\r\n            }\r\n            this.items.unshift(r);\r\n            this.$refs.mytable.refresh();\r\n        },\r\n        doCancel(item) {\r\n            for (let key in item) {\r\n                if (item[key] != this.sel[key]) {\r\n                    item[key] = this.sel[key]\r\n                }\r\n            }\r\n        },\r\n        OnCancel(item) {\r\n            if (item[this.pri] == 0) {\r\n                let index = this.items.findIndex(x => x[this.pri] == item[this.pri]);\r\n                this.items.splice(index, 1);\r\n                this.adding = false;\r\n                this.$refs.mytable.refresh();\r\n            } else {\r\n                this.doCancel(item);\r\n                this.sel = {};\r\n            }\r\n        },\r\n        OnEdit(item) {\r\n            this.sel = JSON.parse(JSON.stringify(item));\r\n            //alert(JSON.stringify(item));\r\n        },\r\n        OnDel(item) {\r\n            alert(JSON.stringify(item));\r\n        },\r\n        OnSave(item) {\r\n            this.$validator.validateAll().then((result) => {\r\n                if (!result) {\r\n                    this.toast("Không hợp lệ");\r\n                    return;\r\n                }\r\n                let r = JSON.parse(JSON.stringify(item));\r\n                if (r[this.pri] == 0) {\r\n                    alert(`Add r ${JSON.stringify(r)}`);\r\n                    this.$refs.mytable.refresh();\r\n                } else {\r\n                    alert(`Update r ${JSON.stringify(r)}`);\r\n                    this.sel = {};\r\n                }\r\n            });\r\n        },\r\n        toast(msg, variant = null) {\r\n            this.$bvToast.toast(msg, {\r\n                title: `Information`,\r\n                variant: variant,\r\n                solid: true,\r\n            });\r\n        },\r\n    }\r\n}\r\n<\/script>\r\n  '},23796:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=7623-legacy.ba17c30d.js.map