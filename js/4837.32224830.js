"use strict";(self["webpackChunkvue_start_1"]=self["webpackChunkvue_start_1"]||[]).push([[4837],{51878:function(e,t,a){a.d(t,{Z:function(){return m}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[e._v("View images")]),a("b-row",{staticClass:"border-bottom mb-3"},e._l(e.ds,(function(t){return a("b-col",{key:t,attrs:{md:"1"}},[a("div",{staticClass:"border mb-2 position-relative bg-dark text-light",staticStyle:{height:"50px"}},[a("img",{attrs:{width:"100%",height:"50px",src:"/api/FileUpload/GetImage/"+t,alt:"Image 1"}}),a("span",{staticClass:"position-absolute",staticStyle:{bottom:"1px",right:"1px"}},[a("a",{attrs:{href:"#"},on:{click:function(a){return e.onDel(t)}}},[e._v("Del")])])])])})),1)],1)},r=[],l=a(9669),s=a.n(l),i={name:"HelloWorld",props:{msg:String},data(){return{ds:[]}},mounted(){this.loadListImg()},methods:{loadListImg(){this.getListImg().then((e=>{this.ds=e.data}))},async getListImg(){return await s().get("/api/FileUpload/GetListFile").catch((e=>{console.log(e)}))},onDel(e){this.Del(e).then((e=>{this.loadListImg()}))},async Del(e){return await s().get(`/api/FileUpload/Del/${e}`).catch((e=>{console.log(e)}))}}},o=i,f=a(1001),d=(0,f.Z)(o,n,r,!1,null,null,null),m=d.exports},64837:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"MonHocToan"},[n("raw-loader",{attrs:{mytxt:a(5937).Z}}),n("h1",[e._v("UploadIformModel page")]),n("com-view-imag",{ref:"listImg"}),n("div",[n("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.onUpload.apply(null,arguments)}}},[n("img",{ref:"outImage",staticClass:"mb-1",attrs:{width:"50",height:"70"}}),n("br"),n("input",{ref:"Ten",attrs:{type:"text"}}),n("br"),n("input",{ref:"file",staticClass:"m-1",attrs:{type:"file",id:"file"},on:{change:e.onFileChange}}),n("br"),n("button",{staticClass:"mr-1",attrs:{type:"submit"}},[e._v("Upload")])])])],1)},r=[],l=a(19755),s=a.n(l),i=a(51878),o={name:"Tpl",components:{ComViewImag:i.Z},methods:{onFileChange(){let e=s()(this.$refs.file).get(0).files,t=e[0];this.getReadAsDataURL(t).then((e=>{s()(this.$refs.outImage).attr("src",e)}))},getReadAsDataURL(e){return new Promise(((t,a)=>{let n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=a,n.readAsDataURL(e)}))},onUpload(){let e=s()(this.$refs.file).get(0).files.length;if(e<=0||""==s()(this.$refs.Ten).val())return void alert("ban chua chon file de upload or Ten is blank");let t=s()(this.$refs.file).get(0).files;for(var a=new FormData,n=0;n<t.length;n++)a.append("File",t[n]);a.append("Ten",s()(this.$refs.Ten).val());let r=this;s().ajax({url:"/api/FileUpload/Upload3",type:"POST",contentType:!1,processData:!1,data:a,success:function(e){alert(JSON.stringify(e)),r.$refs.listImg.loadListImg(),s()(r.$refs.file).val(""),s()(r.$refs.outImage).attr("src",""),s()(r.$refs.Ten).val("")},error:function(e){alert(e.statusText)}})}}},f=o,d=a(1001),m=(0,d.Z)(f,n,r,!1,null,null,null),p=m.exports},5937:function(e,t){t["Z"]='<template>\n  <div class="MonHocToan">\n    <raw-loader :mytxt="require(\'!raw-loader!./UploadIformModel.vue\').default"></raw-loader>\n    <h1>UploadIformModel page</h1>\n    <com-view-imag ref="listImg"></com-view-imag>\n    <div>\n      <form enctype="multipart/form-data" @submit.stop.prevent="onUpload">\n        <img ref="outImage" class="mb-1" width="50" height="70" /><br>\n        <input type="text" ref="Ten" ><br>\n        <input type="file" id="file" ref="file" class="m-1" @change="onFileChange" /><br>\n        <button type="submit" class="mr-1">Upload</button>\n      </form>\n    </div>\n  </div>\n</template>\n<script>\nimport $ from "jquery";\nimport ComViewImag from "./ComViewImage.vue"\nexport default {\n  name: \'Tpl\',\n  components: {\n    ComViewImag\n  },\n  methods: {\n    onFileChange() {\n      let files=$(this.$refs.file).get(0).files;\n      let file=files[0];\n      this.getReadAsDataURL(file).then(res=>{\n        $(this.$refs.outImage).attr("src",res);\n        // alert(res);\n        // data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAUDBAQEAwUEBAQFBQUGBwwIBwcHBw8LCwkMEQ8SEhEPERETFhwX  \n      })\n    },\n    getReadAsDataURL(file) {\n      return new Promise((resolve, reject) => {\n        let reader = new FileReader();\n        reader.onload = () => {\n          resolve(reader.result);\n        };\n        reader.onerror = reject;\n        reader.readAsDataURL(file);\n      });\n    },\n    onUpload() {\n      let len = $(this.$refs.file).get(0).files.length;\n      if ( len <= 0 || $(this.$refs.Ten).val() == \'\'  ) {\n        alert(\'ban chua chon file de upload or Ten is blank\');\n        return;\n      }\n      let files=$(this.$refs.file).get(0).files;\n      var fileData = new FormData();\n      for (var i = 0; i < files.length; i++) {\n        fileData.append("File", files[i]);\n      }\n      fileData.append("Ten", $(this.$refs.Ten).val());\n      let that = this;\n      $.ajax({\n        url: "/api/FileUpload/Upload3", ///Home/UploadFiles\n        type: "POST",\n        contentType: false, // Not to set any content header\n        processData: false, // Not to process data\n        data: fileData,\n        success: function (result) {\n          alert(JSON.stringify(result));\n          that.$refs.listImg.loadListImg();\n          $(that.$refs.file).val("");\n          $(that.$refs.outImage).attr("src",\'\');\n          $(that.$refs.Ten).val("");\n        },\n        error: function (err) {\n          alert(err.statusText);\n        },\n      });\n  }\n}\n}\n<\/script>\n'}}]);
//# sourceMappingURL=4837.32224830.js.map